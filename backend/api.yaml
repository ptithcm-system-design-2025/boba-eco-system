openapi: 3.0.0
paths:
  /api/v1:
    get:
      operationId: AppController_getHello_v1
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - App
  /api/v1/auth/register:
    post:
      description: >-
        Tạo tài khoản mới cho khách hàng với thông tin cá nhân và thông tin đăng
        nhập
      operationId: AuthController_register_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterDto'
      responses:
        '201':
          description: Đăng ký thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo đăng ký thành công
                  user:
                    type: object
                    properties:
                      account_id:
                        type: number
                        description: ID tài khoản
                      username:
                        type: string
                        description: Tên đăng nhập
                      email:
                        type: string
                        description: Email
                      customer_id:
                        type: number
                        description: ID khách hàng
                      full_name:
                        type: string
                        description: Họ và tên
                      phone:
                        type: string
                        description: Số điện thoại
        '400':
          description: >-
            Yêu cầu không hợp lệ - Dữ liệu đầu vào không đúng định dạng hoặc
            thiếu thông tin bắt buộc
        '409':
          description: >-
            Xung đột dữ liệu - Tên đăng nhập, email hoặc số điện thoại đã tồn
            tại
      summary: Đăng ký tài khoản mới
      tags:
        - auth
  /api/v1/auth/login:
    post:
      description: >-
        Xác thực thông tin đăng nhập và trả về access token cùng với thông tin
        người dùng
      operationId: AuthController_login_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginDto'
      responses:
        '200':
          description: Đăng nhập thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    description: JWT access token để xác thực các API khác
                  user:
                    type: object
                    properties:
                      account_id:
                        type: number
                        description: ID tài khoản
                      username:
                        type: string
                        description: Tên đăng nhập
                      email:
                        type: string
                        description: Email
                      phone:
                        type: string
                        description: Số điện thoại
                      role:
                        type: string
                        description: Vai trò của người dùng
                      full_name:
                        type: string
                        description: Họ và tên
        '400':
          description: Yêu cầu không hợp lệ - Thiếu thông tin đăng nhập
        '401':
          description: >-
            Thông tin đăng nhập không chính xác - Tên đăng nhập hoặc mật khẩu
            sai
        '404':
          description: >-
            Không tìm thấy tài khoản - Tài khoản không tồn tại hoặc đã bị vô
            hiệu hóa
      summary: Đăng nhập vào hệ thống
      tags:
        - auth
  /api/v1/auth/logout:
    post:
      description: Xóa refresh token và đăng xuất người dùng khỏi hệ thống
      operationId: AuthController_logout_v1
      parameters: []
      responses:
        '200':
          description: Đăng xuất thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo đăng xuất thành công
                    example: Đăng xuất thành công
        '401':
          description: Chưa xác thực - Token không hợp lệ hoặc đã hết hạn
      security:
        - JWT-auth: []
      summary: Đăng xuất khỏi hệ thống
      tags:
        - auth
  /api/v1/auth/profile:
    get:
      description: >-
        Trả về thông tin chi tiết của người dùng đang đăng nhập dựa trên access
        token
      operationId: AuthController_getProfile_v1
      parameters: []
      responses:
        '200':
          description: Thông tin profile của người dùng
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID tài khoản
                  username:
                    type: string
                    description: Tên đăng nhập
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  role:
                    type: string
                    description: Vai trò của người dùng
                  full_name:
                    type: string
                    description: Họ và tên
                  avatar:
                    type: string
                    description: URL ảnh đại diện
                    nullable: true
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo tài khoản
        '401':
          description: Chưa xác thực - Token không hợp lệ hoặc đã hết hạn
        '404':
          description: Không tìm thấy thông tin người dùng
      security:
        - JWT-auth: []
      summary: Lấy thông tin profile của người dùng hiện tại
      tags:
        - auth
    patch:
      description: >-
        Cho phép người dùng cập nhật thông tin cá nhân như họ tên, email, số
        điện thoại, và thay đổi mật khẩu
      operationId: AuthController_updateProfile_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProfileDto'
      responses:
        '200':
          description: Cập nhật profile thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo cập nhật thành công
                  user:
                    type: object
                    properties:
                      account_id:
                        type: number
                        description: ID tài khoản
                      username:
                        type: string
                        description: Tên đăng nhập
                      email:
                        type: string
                        description: Email đã cập nhật
                      phone:
                        type: string
                        description: Số điện thoại đã cập nhật
                      full_name:
                        type: string
                        description: Họ và tên đã cập nhật
                      updated_at:
                        type: string
                        format: date-time
                        description: Thời gian cập nhật
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu đầu vào không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ hoặc đã hết hạn
        '404':
          description: Không tìm thấy thông tin người dùng
        '409':
          description: >-
            Xung đột dữ liệu - Email hoặc số điện thoại đã được sử dụng bởi tài
            khoản khác
      security:
        - JWT-auth: []
      summary: Cập nhật thông tin profile của người dùng hiện tại
      tags:
        - auth
  /api/v1/auth/refresh:
    post:
      description: Sử dụng refresh token để tạo access token mới khi token cũ đã hết hạn
      operationId: AuthController_refreshToken_v1
      parameters: []
      responses:
        '200':
          description: Làm mới token thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    description: JWT access token mới để xác thực các API khác
        '401':
          description: >-
            Không thể làm mới token - Refresh token không hợp lệ, đã hết hạn
            hoặc không tồn tại
      summary: Làm mới access token
      tags:
        - auth
  /api/v1/auth/revoke:
    post:
      description: Thu hồi refresh token hiện tại, buộc người dùng phải đăng nhập lại
      operationId: AuthController_revokeToken_v1
      parameters: []
      responses:
        '200':
          description: Thu hồi token thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo thu hồi token thành công
                    example: Token đã được thu hồi thành công
        '401':
          description: Chưa xác thực - Token không hợp lệ hoặc đã hết hạn
      security:
        - JWT-auth: []
      summary: Thu hồi token
      tags:
        - auth
  /api/v1/auth/test:
    get:
      description: >-
        Endpoint để kiểm tra xem Auth Controller có hoạt động bình thường không
        (smoke test)
      operationId: AuthController_test_v1
      parameters: []
      responses:
        '200':
          description: Kiểm tra thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo xác nhận controller hoạt động bình thường
                    example: Auth controller is working!
      summary: Kiểm tra hoạt động của Auth Controller
      tags:
        - auth
  /api/v1/accounts:
    post:
      description: >-
        Tạo một tài khoản mới trong hệ thống với thông tin đăng nhập và quyền
        hạn được chỉ định
      operationId: AccountController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAccountDto'
      responses:
        '201':
          description: Tài khoản được tạo thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID của tài khoản
                  username:
                    type: string
                    description: Tên đăng nhập
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  role_id:
                    type: number
                    description: ID vai trò
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '400':
          description: >-
            Yêu cầu không hợp lệ - Dữ liệu đầu vào không đúng định dạng hoặc
            thiếu thông tin bắt buộc
        '401':
          description: Chưa xác thực - Token không hợp lệ hoặc không được cung cấp
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể tạo tài khoản
        '409':
          description: >-
            Xung đột dữ liệu - Tên đăng nhập, email hoặc số điện thoại đã tồn
            tại
      security:
        - JWT-auth: []
      summary: Tạo tài khoản mới - Chỉ MANAGER
      tags:
        - accounts
    get:
      description: Trả về danh sách tất cả tài khoản trong hệ thống với hỗ trợ phân trang
      operationId: AccountController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: 'Số trang (mặc định: 1)'
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: 'Số lượng bản ghi trên mỗi trang (mặc định: 10)'
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách tài khoản được phân trang thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        account_id:
                          type: number
                        username:
                          type: string
                        email:
                          type: string
                        phone:
                          type: string
                        role_id:
                          type: number
                        is_active:
                          type: boolean
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER mới có thể xem danh sách tài
            khoản
      security:
        - JWT-auth: []
      summary: Lấy danh sách tài khoản với phân trang - Chỉ MANAGER
      tags:
        - accounts
  /api/v1/accounts/{id}:
    get:
      description: Lấy thông tin chi tiết của một tài khoản cụ thể bằng ID
      operationId: AccountController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của tài khoản cần lấy thông tin
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Thông tin chi tiết tài khoản
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID của tài khoản
                  username:
                    type: string
                    description: Tên đăng nhập
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  role_id:
                    type: number
                    description: ID vai trò
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể xem thông
            tin tài khoản
        '404':
          description: Không tìm thấy tài khoản với ID được cung cấp
      security:
        - JWT-auth: []
      summary: Lấy thông tin tài khoản theo ID - MANAGER và STAFF
      tags:
        - accounts
    patch:
      description: >-
        Cập nhật thông tin của một tài khoản cụ thể. Có thể cập nhật thông tin
        cá nhân, thay đổi mật khẩu, hoặc thay đổi trạng thái tài khoản
      operationId: AccountController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của tài khoản cần cập nhật
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAccountDto'
      responses:
        '200':
          description: Tài khoản được cập nhật thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID của tài khoản
                  username:
                    type: string
                    description: Tên đăng nhập
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  role_id:
                    type: number
                    description: ID vai trò
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu đầu vào không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể cập nhật tài khoản
        '404':
          description: Không tìm thấy tài khoản với ID được cung cấp
        '409':
          description: >-
            Xung đột dữ liệu - Tên đăng nhập, email hoặc số điện thoại đã tồn
            tại
      security:
        - JWT-auth: []
      summary: Cập nhật thông tin tài khoản - Chỉ MANAGER
      tags:
        - accounts
    delete:
      description: >-
        Xóa vĩnh viễn một tài khoản khỏi hệ thống. Lưu ý: Thao tác này không thể
        hoàn tác
      operationId: AccountController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của tài khoản cần xóa
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Tài khoản được xóa thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID của tài khoản đã xóa
                  username:
                    type: string
                    description: Tên đăng nhập của tài khoản đã xóa
                  message:
                    type: string
                    description: Thông báo xác nhận xóa thành công
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể xóa tài khoản
        '404':
          description: Không tìm thấy tài khoản với ID được cung cấp
      security:
        - JWT-auth: []
      summary: Xóa tài khoản - Chỉ MANAGER
      tags:
        - accounts
  /api/v1/accounts/admin/test:
    get:
      description: >-
        Endpoint để kiểm tra xem Account Controller có hoạt động bình thường
        không (smoke test)
      operationId: AccountController_adminTest_v1
      parameters: []
      responses:
        '200':
          description: Kiểm tra thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo xác nhận controller hoạt động bình thường
                    example: Account controller is working!
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể thực hiện kiểm tra
      security:
        - JWT-auth: []
      summary: Kiểm tra hoạt động của Account Controller - Chỉ MANAGER
      tags:
        - accounts
  /api/v1/categories:
    post:
      description: Tạo một danh mục sản phẩm mới trong hệ thống với tên và mô tả
      operationId: CategoryController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCategoryDto'
      responses:
        '201':
          description: Danh mục được tạo thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  category_id:
                    type: number
                    description: ID của danh mục
                  name:
                    type: string
                    description: Tên danh mục
                  description:
                    type: string
                    description: Mô tả danh mục
                    nullable: true
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu đầu vào không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể tạo danh
            mục
        '409':
          description: Xung đột dữ liệu - Tên danh mục đã tồn tại
      security:
        - JWT-auth: []
      summary: Tạo danh mục mới - Chỉ MANAGER và STAFF
      tags:
        - categories
    get:
      description: Trả về danh sách tất cả danh mục sản phẩm với hỗ trợ phân trang
      operationId: CategoryController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: 'Số trang (mặc định: 1)'
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: 'Số lượng bản ghi trên mỗi trang (mặc định: 10)'
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách danh mục được phân trang thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        category_id:
                          type: number
                        name:
                          type: string
                        description:
                          type: string
                          nullable: true
                        is_active:
                          type: boolean
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Chưa xác thực - Token không hợp lệ
      security:
        - JWT-auth: []
      summary: Lấy danh sách danh mục với phân trang - Tất cả role
      tags:
        - categories
  /api/v1/categories/{id}:
    get:
      description: Lấy thông tin chi tiết của một danh mục cụ thể bằng ID
      operationId: CategoryController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của danh mục cần lấy thông tin
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Thông tin chi tiết danh mục
          content:
            application/json:
              schema:
                type: object
                properties:
                  category_id:
                    type: number
                    description: ID của danh mục
                  name:
                    type: string
                    description: Tên danh mục
                  description:
                    type: string
                    description: Mô tả danh mục
                    nullable: true
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '404':
          description: Không tìm thấy danh mục với ID được cung cấp
      security:
        - JWT-auth: []
      summary: Lấy thông tin danh mục theo ID - Tất cả role
      tags:
        - categories
    patch:
      description: >-
        Cập nhật thông tin của một danh mục cụ thể như tên, mô tả hoặc trạng
        thái hoạt động
      operationId: CategoryController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của danh mục cần cập nhật
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCategoryDto'
      responses:
        '200':
          description: Danh mục được cập nhật thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  category_id:
                    type: number
                    description: ID của danh mục
                  name:
                    type: string
                    description: Tên danh mục đã cập nhật
                  description:
                    type: string
                    description: Mô tả danh mục đã cập nhật
                    nullable: true
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động đã cập nhật
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu đầu vào không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể cập nhật
            danh mục
        '404':
          description: Không tìm thấy danh mục với ID được cung cấp
        '409':
          description: Xung đột dữ liệu - Tên danh mục đã tồn tại
      security:
        - JWT-auth: []
      summary: Cập nhật thông tin danh mục - Chỉ MANAGER và STAFF
      tags:
        - categories
    delete:
      description: >-
        Xóa vĩnh viễn một danh mục khỏi hệ thống. Lưu ý: Không thể xóa danh mục
        đang có sản phẩm liên quan
      operationId: CategoryController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của danh mục cần xóa
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Danh mục được xóa thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  category_id:
                    type: number
                    description: ID của danh mục đã xóa
                  name:
                    type: string
                    description: Tên danh mục đã xóa
                  message:
                    type: string
                    description: Thông báo xác nhận xóa thành công
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể xóa danh mục
        '404':
          description: Không tìm thấy danh mục với ID được cung cấp
        '409':
          description: Xung đột dữ liệu - Danh mục đang được sử dụng bởi các sản phẩm khác
      security:
        - JWT-auth: []
      summary: Xóa danh mục theo ID - Chỉ MANAGER
      tags:
        - categories
  /api/v1/categories/bulk:
    delete:
      description: >-
        Xóa nhiều danh mục cùng lúc. Các danh mục có sản phẩm liên quan sẽ không
        thể xóa và sẽ được báo lỗi
      operationId: CategoryController_bulkDelete_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteCategoryDto'
      responses:
        '200':
          description: Quá trình xóa hàng loạt hoàn thành với kết quả chi tiết
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: array
                    items:
                      type: number
                    description: Danh sách ID các danh mục đã xóa thành công
                  failed:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          description: ID danh mục không thể xóa
                        reason:
                          type: string
                          description: Lý do không thể xóa
                    description: Danh sách các danh mục không thể xóa và lý do
                  summary:
                    type: object
                    properties:
                      total:
                        type: number
                        description: Tổng số danh mục được yêu cầu xóa
                      success:
                        type: number
                        description: Số danh mục xóa thành công
                      failed:
                        type: number
                        description: Số danh mục không thể xóa
        '400':
          description: Yêu cầu không hợp lệ - Danh sách ID không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể xóa danh mục
      security:
        - JWT-auth: []
      summary: Xóa nhiều danh mục cùng lúc - Chỉ MANAGER
      tags:
        - categories
  /api/v1/categories/admin/test:
    get:
      description: >-
        Endpoint để kiểm tra xem Category Controller có hoạt động bình thường
        không (smoke test)
      operationId: CategoryController_adminTest_v1
      parameters: []
      responses:
        '200':
          description: Kiểm tra thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo xác nhận controller hoạt động bình thường
                    example: Category controller is working!
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể thực hiện kiểm tra
      security:
        - JWT-auth: []
      summary: Kiểm tra hoạt động của Category Controller - Chỉ MANAGER
      tags:
        - categories
  /api/v1/customers:
    post:
      description: >-
        Hệ thống sẽ tự động gán loại thành viên có điểm yêu cầu thấp nhất và đặt
        điểm hiện tại bằng điểm yêu cầu đó
      operationId: CustomerController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCustomerDto'
      responses:
        '201':
          description: Khách hàng được tạo thành công với loại thành viên và điểm tự động
          content:
            application/json:
              schema:
                type: object
                properties:
                  customer_id:
                    type: number
                    description: ID khách hàng
                  full_name:
                    type: string
                    description: Họ và tên khách hàng
                  phone:
                    type: string
                    description: Số điện thoại
                  email:
                    type: string
                    description: Email
                    nullable: true
                  address:
                    type: string
                    description: Địa chỉ
                    nullable: true
                  date_of_birth:
                    type: string
                    format: date
                    description: Ngày sinh
                    nullable: true
                  gender:
                    type: string
                    description: Giới tính
                    nullable: true
                  membership_type_id:
                    type: number
                    description: ID loại thành viên được gán tự động
                  current_points:
                    type: number
                    description: Điểm hiện tại được gán tự động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu đầu vào không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể tạo khách
            hàng
        '409':
          description: Xung đột dữ liệu - Số điện thoại đã tồn tại
      security:
        - JWT-auth: []
      summary: Tạo khách hàng mới - Chỉ MANAGER và STAFF
      tags:
        - customers
    get:
      description: >-
        Trả về danh sách tất cả khách hàng trong hệ thống với thông tin loại
        thành viên và điểm tích lũy
      operationId: CustomerController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: 'Số trang (mặc định: 1)'
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: 'Số lượng bản ghi trên mỗi trang (mặc định: 10)'
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách khách hàng được phân trang thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        customer_id:
                          type: number
                        full_name:
                          type: string
                        phone:
                          type: string
                        email:
                          type: string
                          nullable: true
                        address:
                          type: string
                          nullable: true
                        date_of_birth:
                          type: string
                          format: date
                          nullable: true
                        gender:
                          type: string
                          nullable: true
                        membership_type_id:
                          type: number
                        current_points:
                          type: number
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể xem danh
            sách khách hàng
      security:
        - JWT-auth: []
      summary: Lấy danh sách khách hàng với phân trang - Chỉ MANAGER và STAFF
      tags:
        - customers
  /api/v1/customers/bulk:
    delete:
      description: >-
        Xóa nhiều khách hàng cùng lúc. Các khách hàng có đơn hàng liên quan sẽ
        không thể xóa và sẽ được báo lỗi
      operationId: CustomerController_bulkDelete_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteCustomerDto'
      responses:
        '200':
          description: Quá trình xóa hàng loạt hoàn thành với kết quả chi tiết
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: array
                    items:
                      type: number
                    description: Danh sách ID các khách hàng đã xóa thành công
                  failed:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          description: ID khách hàng không thể xóa
                        reason:
                          type: string
                          description: Lý do không thể xóa
                    description: Danh sách các khách hàng không thể xóa và lý do
                  summary:
                    type: object
                    properties:
                      total:
                        type: number
                        description: Tổng số khách hàng được yêu cầu xóa
                      success:
                        type: number
                        description: Số khách hàng xóa thành công
                      failed:
                        type: number
                        description: Số khách hàng không thể xóa
        '400':
          description: Yêu cầu không hợp lệ - Danh sách ID không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể xóa khách hàng
      security:
        - JWT-auth: []
      summary: Xóa nhiều khách hàng cùng lúc - Chỉ MANAGER
      tags:
        - customers
  /api/v1/customers/{id}:
    get:
      description: >-
        Lấy thông tin chi tiết của một khách hàng cụ thể bao gồm loại thành viên
        và điểm tích lũy
      operationId: CustomerController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của khách hàng cần lấy thông tin
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Thông tin chi tiết khách hàng
          content:
            application/json:
              schema:
                type: object
                properties:
                  customer_id:
                    type: number
                    description: ID khách hàng
                  full_name:
                    type: string
                    description: Họ và tên khách hàng
                  phone:
                    type: string
                    description: Số điện thoại
                  email:
                    type: string
                    description: Email
                    nullable: true
                  address:
                    type: string
                    description: Địa chỉ
                    nullable: true
                  date_of_birth:
                    type: string
                    format: date
                    description: Ngày sinh
                    nullable: true
                  gender:
                    type: string
                    description: Giới tính
                    nullable: true
                  membership_type_id:
                    type: number
                    description: ID loại thành viên
                  current_points:
                    type: number
                    description: Điểm tích lũy hiện tại
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - CUSTOMER chỉ có thể xem thông tin của mình
        '404':
          description: Không tìm thấy khách hàng với ID được cung cấp
      security:
        - JWT-auth: []
      summary: >-
        Lấy thông tin khách hàng theo ID - Tất cả role (CUSTOMER chỉ xem thông
        tin của mình)
      tags:
        - customers
    patch:
      description: >-
        Cập nhật thông tin cá nhân của khách hàng. Lưu ý: Không thể cập nhật
        loại thành viên và điểm tích lũy - các trường này được quản lý tự động
        bởi hệ thống.
      operationId: CustomerController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID khách hàng
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCustomerDto'
      responses:
        '200':
          description: Cập nhật thông tin khách hàng thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  customer_id:
                    type: number
                    description: ID khách hàng
                  full_name:
                    type: string
                    description: Họ và tên đã cập nhật
                  phone:
                    type: string
                    description: Số điện thoại đã cập nhật
                  email:
                    type: string
                    description: Email đã cập nhật
                    nullable: true
                  address:
                    type: string
                    description: Địa chỉ đã cập nhật
                    nullable: true
                  date_of_birth:
                    type: string
                    format: date
                    description: Ngày sinh đã cập nhật
                    nullable: true
                  gender:
                    type: string
                    description: Giới tính đã cập nhật
                    nullable: true
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu cập nhật không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - CUSTOMER chỉ có thể cập nhật thông tin của
            mình
        '404':
          description: Không tìm thấy khách hàng với ID được cung cấp
        '409':
          description: Xung đột dữ liệu - Số điện thoại đã tồn tại
      security:
        - JWT-auth: []
      summary: >-
        Cập nhật thông tin khách hàng - Tất cả role (CUSTOMER chỉ cập nhật thông
        tin của mình)
      tags:
        - customers
    delete:
      description: >-
        Xóa vĩnh viễn khách hàng khỏi hệ thống. Lưu ý: Không thể xóa khách hàng
        có đơn hàng hoặc tài khoản liên quan
      operationId: CustomerController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID khách hàng cần xóa
          schema:
            example: 1
            type: number
      responses:
        '204':
          description: Khách hàng được xóa thành công
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể xóa khách hàng
        '404':
          description: Không tìm thấy khách hàng với ID được cung cấp
        '409':
          description: >-
            Xung đột dữ liệu - Không thể xóa khách hàng có đơn hàng hoặc tài
            khoản liên quan
      security:
        - JWT-auth: []
      summary: Xóa khách hàng - Chỉ MANAGER
      tags:
        - customers
  /api/v1/customers/phone/{phone}:
    get:
      description: >-
        Tìm kiếm thông tin khách hàng dựa trên số điện thoại để hỗ trợ quá trình
        bán hàng
      operationId: CustomerController_findByPhone_v1
      parameters:
        - name: phone
          required: true
          in: path
          description: Số điện thoại của khách hàng cần tìm
          schema:
            example: '0987654321'
            type: string
      responses:
        '200':
          description: Thông tin chi tiết khách hàng
          content:
            application/json:
              schema:
                type: object
                properties:
                  customer_id:
                    type: number
                    description: ID khách hàng
                  full_name:
                    type: string
                    description: Họ và tên khách hàng
                  phone:
                    type: string
                    description: Số điện thoại
                  email:
                    type: string
                    description: Email
                    nullable: true
                  address:
                    type: string
                    description: Địa chỉ
                    nullable: true
                  membership_type_id:
                    type: number
                    description: ID loại thành viên
                  current_points:
                    type: number
                    description: Điểm tích lũy hiện tại
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể tìm kiếm
            khách hàng
        '404':
          description: Không tìm thấy khách hàng với số điện thoại được cung cấp
      security:
        - JWT-auth: []
      summary: Tìm khách hàng theo số điện thoại - Chỉ MANAGER và STAFF
      tags:
        - customers
  /api/v1/customers/{id}/account:
    get:
      description: >-
        Trả về thông tin tài khoản đã liên kết với khách hàng này bao gồm quyền
        hạn và trạng thái
      operationId: CustomerController_getCustomerAccount_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID khách hàng
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Thông tin tài khoản của khách hàng
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID tài khoản
                  username:
                    type: string
                    description: Tên đăng nhập
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  role_id:
                    type: number
                    description: ID vai trò
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - CUSTOMER chỉ có thể xem tài khoản của mình
        '404':
          description: Không tìm thấy khách hàng hoặc khách hàng chưa có tài khoản liên kết
      security:
        - JWT-auth: []
      summary: >-
        Lấy thông tin tài khoản của khách hàng - Tất cả role (CUSTOMER chỉ xem
        tài khoản của mình)
      tags:
        - customers
    post:
      description: >-
        Tạo tài khoản đăng nhập mới và liên kết với khách hàng hiện tại để họ có
        thể sử dụng ứng dụng
      operationId: CustomerController_createCustomerAccount_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID khách hàng
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAccountDto'
      responses:
        '201':
          description: Tạo tài khoản thành công cho khách hàng
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID tài khoản mới
                  customer_id:
                    type: number
                    description: ID khách hàng
                  username:
                    type: string
                    description: Tên đăng nhập
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  role_id:
                    type: number
                    description: ID vai trò (mặc định là CUSTOMER)
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu tài khoản không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể tạo tài
            khoản
        '404':
          description: Không tìm thấy khách hàng với ID được cung cấp
        '409':
          description: >-
            Xung đột dữ liệu - Tên đăng nhập đã tồn tại hoặc khách hàng đã có
            tài khoản
      security:
        - JWT-auth: []
      summary: Tạo tài khoản mới cho khách hàng - Chỉ MANAGER và STAFF
      tags:
        - customers
    patch:
      description: >-
        Cập nhật thông tin tài khoản đã liên kết với khách hàng như thay đổi mật
        khẩu, email, hoặc thông tin liên hệ
      operationId: CustomerController_updateCustomerAccount_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID khách hàng
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAccountDto'
      responses:
        '200':
          description: Cập nhật tài khoản thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID tài khoản
                  customer_id:
                    type: number
                    description: ID khách hàng
                  username:
                    type: string
                    description: Tên đăng nhập
                  email:
                    type: string
                    description: Email đã cập nhật
                  phone:
                    type: string
                    description: Số điện thoại đã cập nhật
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu cập nhật không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - CUSTOMER chỉ có thể cập nhật tài khoản của
            mình
        '404':
          description: Không tìm thấy khách hàng hoặc khách hàng chưa có tài khoản liên kết
        '409':
          description: Xung đột dữ liệu - Tên đăng nhập đã tồn tại
      security:
        - JWT-auth: []
      summary: >-
        Cập nhật tài khoản của khách hàng - Tất cả role (CUSTOMER chỉ cập nhật
        tài khoản của mình)
      tags:
        - customers
  /api/v1/customers/{id}/account/lock:
    patch:
      description: >-
        Thay đổi trạng thái khóa của tài khoản khách hàng để ngăn chặn hoặc cho
        phép đăng nhập
      operationId: CustomerController_lockCustomerAccount_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID khách hàng
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LockAccountDto'
      responses:
        '200':
          description: Thay đổi trạng thái khóa tài khoản thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  account_id:
                    type: number
                    description: ID tài khoản
                  customer_id:
                    type: number
                    description: ID khách hàng
                  is_locked:
                    type: boolean
                    description: Trạng thái khóa mới
                  locked_at:
                    type: string
                    format: date-time
                    description: Thời gian thay đổi trạng thái khóa
                    nullable: true
                  message:
                    type: string
                    description: Thông báo kết quả
        '400':
          description: Yêu cầu không hợp lệ - Trạng thái khóa không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER mới có thể khóa/mở khóa tài
            khoản
        '404':
          description: Không tìm thấy khách hàng hoặc khách hàng chưa có tài khoản liên kết
      security:
        - JWT-auth: []
      summary: Khóa/mở khóa tài khoản khách hàng - Chỉ MANAGER
      tags:
        - customers
  /api/v1/customers/test/ping:
    get:
      description: >-
        Endpoint để kiểm tra xem Customer Controller có hoạt động bình thường
        không (smoke test)
      operationId: CustomerController_test_v1
      parameters: []
      responses:
        '200':
          description: Kiểm tra thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo xác nhận controller hoạt động bình thường
                    example: Customer controller is working!
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể thực hiện kiểm tra
      security:
        - JWT-auth: []
      summary: Kiểm tra hoạt động của Customer Controller - Chỉ MANAGER
      tags:
        - customers
  /api/v1/customers/membership-type/{membershipTypeId}:
    get:
      description: >-
        Trả về danh sách khách hàng thuộc một loại thành viên cụ thể để phân
        tích và quản lý chương trình khách hàng thân thiết
      operationId: CustomerController_findByMembershipType_v1
      parameters:
        - name: membershipTypeId
          required: true
          in: path
          description: ID loại thành viên
          schema:
            example: 1
            type: number
        - name: page
          required: false
          in: query
          description: 'Số trang (mặc định: 1)'
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: 'Số lượng bản ghi trên mỗi trang (mặc định: 10)'
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách khách hàng theo loại thành viên được phân trang thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        customer_id:
                          type: number
                        full_name:
                          type: string
                        phone:
                          type: string
                        email:
                          type: string
                          nullable: true
                        current_points:
                          type: number
                        membership_type_id:
                          type: number
                        created_at:
                          type: string
                          format: date-time
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ STAFF và MANAGER mới có thể xem danh
            sách khách hàng theo loại thành viên
        '404':
          description: Không tìm thấy loại thành viên với ID được cung cấp
      security:
        - JWT-auth: []
      summary: Lấy khách hàng theo loại thành viên với phân trang - STAFF/MANAGER
      tags:
        - customers
  /api/v1/discounts:
    post:
      operationId: DiscountController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDiscountDto'
      responses:
        '201':
          description: The discount has been successfully created.
        '400':
          description: Bad Request.
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '409':
          description: Conflict. Discount name or coupon code already exists.
      security:
        - JWT-auth: []
      summary: Create a new discount - Chỉ MANAGER
      tags:
        - discounts
    get:
      operationId: DiscountController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Items per page
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Paginated list of discounts
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
      security:
        - JWT-auth: []
      summary: Get all discounts with pagination - Tất cả role
      tags:
        - discounts
  /api/v1/discounts/bulk:
    delete:
      operationId: DiscountController_bulkDelete_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteDiscountDto'
      responses:
        '200':
          description: Bulk delete completed with results
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Bulk delete discounts - Chỉ MANAGER
      tags:
        - discounts
  /api/v1/discounts/{id}:
    get:
      operationId: DiscountController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: The ID of the discount
          schema:
            type: number
      responses:
        '200':
          description: Return the discount.
        '401':
          description: Unauthorized
        '404':
          description: Discount not found.
      security:
        - JWT-auth: []
      summary: Get a discount by ID - Tất cả role
      tags:
        - discounts
    patch:
      operationId: DiscountController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: The ID of the discount to update
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDiscountDto'
      responses:
        '200':
          description: The discount has been successfully updated.
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Discount not found.
        '409':
          description: Conflict. Coupon code or other unique constraint violation.
      security:
        - JWT-auth: []
      summary: Update a discount by ID - Chỉ MANAGER
      tags:
        - discounts
    delete:
      operationId: DiscountController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: The ID of the discount to delete
          schema:
            type: number
      responses:
        '204':
          description: The discount has been successfully deleted.
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Discount not found.
        '409':
          description: Conflict. Discount is associated with other records.
      security:
        - JWT-auth: []
      summary: Delete a discount by ID - Chỉ MANAGER
      tags:
        - discounts
  /api/v1/discounts/coupon/{couponCode}:
    get:
      operationId: DiscountController_findByCouponCode_v1
      parameters:
        - name: couponCode
          required: true
          in: path
          description: The coupon code associated with the discount
          schema:
            type: string
      responses:
        '200':
          description: Return the discount.
        '401':
          description: Unauthorized
        '404':
          description: Discount with this coupon code not found.
      security:
        - JWT-auth: []
      summary: Get a discount by Coupon Code - Tất cả role
      tags:
        - discounts
  /api/v1/employees:
    post:
      description: >-
        Tạo nhân viên mới trong hệ thống với thông tin cá nhân và tài khoản đăng
        nhập tự động
      operationId: EmployeeController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateEmployeeDto'
      responses:
        '201':
          description: Nhân viên được tạo thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  employee_id:
                    type: number
                    description: ID nhân viên
                  full_name:
                    type: string
                    description: Họ và tên nhân viên
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  address:
                    type: string
                    description: Địa chỉ
                    nullable: true
                  date_of_birth:
                    type: string
                    format: date
                    description: Ngày sinh
                    nullable: true
                  gender:
                    type: string
                    description: Giới tính
                    nullable: true
                  hire_date:
                    type: string
                    format: date
                    description: Ngày tuyển dụng
                  position:
                    type: string
                    description: Chức vụ
                    nullable: true
                  salary:
                    type: number
                    description: Lương
                    nullable: true
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu đầu vào không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể tạo nhân viên
        '409':
          description: Xung đột dữ liệu - Email hoặc số điện thoại đã tồn tại
      security:
        - JWT-auth: []
      summary: Tạo nhân viên mới - Chỉ MANAGER
      tags:
        - employees
    get:
      description: >-
        Trả về danh sách tất cả nhân viên trong hệ thống với thông tin cơ bản và
        trạng thái
      operationId: EmployeeController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: 'Số trang (mặc định: 1)'
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: 'Số lượng bản ghi trên mỗi trang (mặc định: 10)'
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách nhân viên được phân trang thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        employee_id:
                          type: number
                        full_name:
                          type: string
                        email:
                          type: string
                        phone:
                          type: string
                        position:
                          type: string
                          nullable: true
                        hire_date:
                          type: string
                          format: date
                        is_active:
                          type: boolean
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể xem danh
            sách nhân viên
      security:
        - JWT-auth: []
      summary: Lấy danh sách nhân viên với phân trang - MANAGER và STAFF
      tags:
        - employees
  /api/v1/employees/email/{email}:
    get:
      description: >-
        Tìm kiếm thông tin nhân viên dựa trên địa chỉ email để hỗ trợ quản lý
        nhân sự
      operationId: EmployeeController_findByEmail_v1
      parameters:
        - name: email
          required: true
          in: path
          description: Địa chỉ email của nhân viên cần tìm
          schema:
            example: nhanvien@example.com
            type: string
      responses:
        '200':
          description: Thông tin chi tiết nhân viên
          content:
            application/json:
              schema:
                type: object
                properties:
                  employee_id:
                    type: number
                    description: ID nhân viên
                  full_name:
                    type: string
                    description: Họ và tên nhân viên
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  address:
                    type: string
                    description: Địa chỉ
                    nullable: true
                  position:
                    type: string
                    description: Chức vụ
                    nullable: true
                  hire_date:
                    type: string
                    format: date
                    description: Ngày tuyển dụng
                  salary:
                    type: number
                    description: Lương
                    nullable: true
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER mới có thể tìm kiếm nhân viên
            theo email
        '404':
          description: Không tìm thấy nhân viên với email được cung cấp
      security:
        - JWT-auth: []
      summary: Tìm nhân viên theo email - Chỉ MANAGER
      tags:
        - employees
  /api/v1/employees/bulk:
    delete:
      description: >-
        Xóa nhiều nhân viên cùng lúc. Các nhân viên có đơn hàng hoặc dữ liệu
        liên quan sẽ không thể xóa và sẽ được báo lỗi
      operationId: EmployeeController_bulkDelete_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteEmployeeDto'
      responses:
        '200':
          description: Quá trình xóa hàng loạt hoàn thành với kết quả chi tiết
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: array
                    items:
                      type: number
                    description: Danh sách ID các nhân viên đã xóa thành công
                  failed:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          description: ID nhân viên không thể xóa
                        reason:
                          type: string
                          description: Lý do không thể xóa
                    description: Danh sách các nhân viên không thể xóa và lý do
                  summary:
                    type: object
                    properties:
                      total:
                        type: number
                        description: Tổng số nhân viên được yêu cầu xóa
                      success:
                        type: number
                        description: Số nhân viên xóa thành công
                      failed:
                        type: number
                        description: Số nhân viên không thể xóa
        '400':
          description: Yêu cầu không hợp lệ - Danh sách ID không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể xóa nhân viên
      security:
        - JWT-auth: []
      summary: Xóa nhiều nhân viên cùng lúc - Chỉ MANAGER
      tags:
        - employees
  /api/v1/employees/{id}:
    get:
      description: >-
        Lấy thông tin chi tiết của một nhân viên cụ thể bao gồm thông tin cá
        nhân và công việc
      operationId: EmployeeController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của nhân viên cần lấy thông tin
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Thông tin chi tiết nhân viên
          content:
            application/json:
              schema:
                type: object
                properties:
                  employee_id:
                    type: number
                    description: ID nhân viên
                  full_name:
                    type: string
                    description: Họ và tên nhân viên
                  email:
                    type: string
                    description: Email
                  phone:
                    type: string
                    description: Số điện thoại
                  address:
                    type: string
                    description: Địa chỉ
                    nullable: true
                  date_of_birth:
                    type: string
                    format: date
                    description: Ngày sinh
                    nullable: true
                  gender:
                    type: string
                    description: Giới tính
                    nullable: true
                  hire_date:
                    type: string
                    format: date
                    description: Ngày tuyển dụng
                  position:
                    type: string
                    description: Chức vụ
                    nullable: true
                  salary:
                    type: number
                    description: Lương
                    nullable: true
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động
                  created_at:
                    type: string
                    format: date-time
                    description: Thời gian tạo
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER và STAFF mới có thể xem thông
            tin nhân viên
        '404':
          description: Không tìm thấy nhân viên với ID được cung cấp
      security:
        - JWT-auth: []
      summary: Lấy thông tin nhân viên theo ID - MANAGER và STAFF
      tags:
        - employees
    patch:
      description: >-
        Cập nhật thông tin cá nhân và công việc của nhân viên như chức vụ,
        lương, địa chỉ, v.v.
      operationId: EmployeeController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của nhân viên cần cập nhật
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEmployeeDto'
      responses:
        '200':
          description: Thông tin nhân viên được cập nhật thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  employee_id:
                    type: number
                    description: ID nhân viên
                  full_name:
                    type: string
                    description: Họ và tên đã cập nhật
                  email:
                    type: string
                    description: Email đã cập nhật
                  phone:
                    type: string
                    description: Số điện thoại đã cập nhật
                  address:
                    type: string
                    description: Địa chỉ đã cập nhật
                    nullable: true
                  position:
                    type: string
                    description: Chức vụ đã cập nhật
                    nullable: true
                  salary:
                    type: number
                    description: Lương đã cập nhật
                    nullable: true
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động đã cập nhật
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu cập nhật không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER mới có thể cập nhật thông tin
            nhân viên
        '404':
          description: Không tìm thấy nhân viên với ID được cung cấp
        '409':
          description: Xung đột dữ liệu - Email hoặc số điện thoại đã tồn tại
      security:
        - JWT-auth: []
      summary: Cập nhật thông tin nhân viên - Chỉ MANAGER
      tags:
        - employees
    delete:
      description: >-
        Xóa vĩnh viễn nhân viên khỏi hệ thống. Lưu ý: Không thể xóa nhân viên có
        đơn hàng hoặc dữ liệu quan trọng liên quan
      operationId: EmployeeController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID của nhân viên cần xóa
          schema:
            example: 1
            type: number
      responses:
        '204':
          description: Nhân viên được xóa thành công
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể xóa nhân viên
        '404':
          description: Không tìm thấy nhân viên với ID được cung cấp
        '409':
          description: >-
            Xung đột dữ liệu - Không thể xóa nhân viên có đơn hàng hoặc dữ liệu
            quan trọng liên quan
      security:
        - JWT-auth: []
      summary: Xóa nhân viên - Chỉ MANAGER
      tags:
        - employees
  /api/v1/employees/{id}/account/lock:
    patch:
      description: >-
        Thay đổi trạng thái khóa của tài khoản nhân viên để ngăn chặn hoặc cho
        phép đăng nhập hệ thống
      operationId: EmployeeController_lockEmployeeAccount_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID nhân viên
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LockAccountDto'
      responses:
        '200':
          description: Thay đổi trạng thái khóa tài khoản thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  employee_id:
                    type: number
                    description: ID nhân viên
                  account_id:
                    type: number
                    description: ID tài khoản
                  is_locked:
                    type: boolean
                    description: Trạng thái khóa mới
                  locked_at:
                    type: string
                    format: date-time
                    description: Thời gian thay đổi trạng thái khóa
                    nullable: true
                  message:
                    type: string
                    description: Thông báo kết quả
        '400':
          description: Yêu cầu không hợp lệ - Trạng thái khóa không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER mới có thể khóa/mở khóa tài
            khoản nhân viên
        '404':
          description: Không tìm thấy nhân viên hoặc nhân viên chưa có tài khoản
      security:
        - JWT-auth: []
      summary: Khóa/mở khóa tài khoản nhân viên - Chỉ MANAGER
      tags:
        - employees
  /api/v1/employees/{id}/account/{accountId}:
    patch:
      description: Cập nhật tên đăng nhập, mật khẩu, và trạng thái tài khoản của nhân viên
      operationId: EmployeeController_updateEmployeeAccount_v1
      parameters:
        - name: id
          required: true
          in: path
          description: ID nhân viên
          schema:
            example: 1
            type: number
        - name: accountId
          required: true
          in: path
          description: ID tài khoản
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAccountDto'
      responses:
        '200':
          description: Cập nhật thông tin tài khoản thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  employee_id:
                    type: number
                    description: ID nhân viên
                  account_id:
                    type: number
                    description: ID tài khoản
                  username:
                    type: string
                    description: Tên đăng nhập đã cập nhật
                  email:
                    type: string
                    description: Email đã cập nhật
                  phone:
                    type: string
                    description: Số điện thoại đã cập nhật
                  is_active:
                    type: boolean
                    description: Trạng thái hoạt động tài khoản
                  updated_at:
                    type: string
                    format: date-time
                    description: Thời gian cập nhật
        '400':
          description: Yêu cầu không hợp lệ - Dữ liệu tài khoản không đúng định dạng
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: >-
            Không có quyền truy cập - Chỉ MANAGER mới có thể cập nhật tài khoản
            nhân viên
        '404':
          description: Không tìm thấy nhân viên hoặc tài khoản với ID được cung cấp
        '409':
          description: >-
            Xung đột dữ liệu - Tên đăng nhập, email hoặc số điện thoại đã tồn
            tại
      security:
        - JWT-auth: []
      summary: Cập nhật thông tin tài khoản của nhân viên - Chỉ MANAGER
      tags:
        - employees
  /api/v1/employees/admin/test:
    get:
      description: >-
        Endpoint để kiểm tra xem Employee Controller có hoạt động bình thường
        không (smoke test)
      operationId: EmployeeController_test_v1
      parameters: []
      responses:
        '200':
          description: Kiểm tra thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Thông báo xác nhận controller hoạt động bình thường
                    example: Employee controller is working!
        '401':
          description: Chưa xác thực - Token không hợp lệ
        '403':
          description: Không có quyền truy cập - Chỉ MANAGER mới có thể thực hiện kiểm tra
      security:
        - JWT-auth: []
      summary: Kiểm tra hoạt động của Employee Controller - Chỉ MANAGER
      tags:
        - employees
  /api/v1/managers:
    post:
      operationId: ManagerController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateManagerDto'
      responses:
        '201':
          description: Manager created successfully
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '409':
          description: Conflict (email already exists)
      security:
        - JWT-auth: []
      summary: Create a new manager - Chỉ MANAGER
      tags:
        - managers
    get:
      operationId: ManagerController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Paginated list of managers
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Get all managers with pagination - Chỉ MANAGER
      tags:
        - managers
  /api/v1/managers/{id}:
    get:
      operationId: ManagerController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Manager ID
          schema:
            type: number
      responses:
        '200':
          description: Manager details
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Manager not found
      security:
        - JWT-auth: []
      summary: Get manager by ID - Chỉ MANAGER
      tags:
        - managers
    patch:
      operationId: ManagerController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Manager ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateManagerDto'
      responses:
        '200':
          description: Manager updated successfully
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Manager not found
        '409':
          description: Conflict (email already exists)
      security:
        - JWT-auth: []
      summary: Update manager - Chỉ MANAGER
      tags:
        - managers
    delete:
      operationId: ManagerController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Manager ID
          schema:
            type: number
      responses:
        '204':
          description: Manager deleted successfully
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Manager not found
      security:
        - JWT-auth: []
      summary: Delete manager - Chỉ MANAGER
      tags:
        - managers
  /api/v1/managers/email/{email}:
    get:
      operationId: ManagerController_findByEmail_v1
      parameters:
        - name: email
          required: true
          in: path
          description: Manager email
          schema:
            type: string
      responses:
        '200':
          description: Manager details
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Manager not found
      security:
        - JWT-auth: []
      summary: Find manager by email - Chỉ MANAGER
      tags:
        - managers
  /api/v1/managers/{id}/account/lock:
    patch:
      description: Thay đổi trạng thái khóa của tài khoản manager
      operationId: ManagerController_lockManagerAccount_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Manager ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LockAccountDto'
      responses:
        '200':
          description: Thay đổi trạng thái khóa tài khoản thành công
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Manager not found
      security:
        - JWT-auth: []
      summary: Khóa/mở khóa tài khoản manager - Chỉ MANAGER
      tags:
        - managers
  /api/v1/managers/{id}/account/{accountId}:
    patch:
      description: Cập nhật username, password, và trạng thái tài khoản của manager
      operationId: ManagerController_updateManagerAccount_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Manager ID
          schema:
            type: number
        - name: accountId
          required: true
          in: path
          description: Account ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAccountDto'
      responses:
        '200':
          description: Cập nhật thông tin tài khoản thành công
        '400':
          description: Bad Request - Account không thuộc về Manager này
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Manager hoặc Account không tồn tại
        '409':
          description: Conflict - Username đã tồn tại
      security:
        - JWT-auth: []
      summary: Cập nhật thông tin tài khoản của manager - Chỉ MANAGER
      tags:
        - managers
  /api/v1/managers/bulk:
    delete:
      operationId: ManagerController_bulkDelete_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteManagerDto'
      responses:
        '200':
          description: Bulk delete completed with results
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Bulk delete managers - Chỉ MANAGER
      tags:
        - managers
  /api/v1/managers/test/ping:
    get:
      operationId: ManagerController_test_v1
      parameters: []
      responses:
        '200':
          description: Test successful
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Test manager controller - Chỉ MANAGER
      tags:
        - managers
  /api/v1/membership-types:
    post:
      operationId: MembershipTypeController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMembershipTypeDto'
      responses:
        '201':
          description: Membership type created successfully.
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '409':
          description: Conflict (e.g., type already exists)
      security:
        - JWT-auth: []
      summary: Create a new membership type - Chỉ MANAGER
      tags:
        - membership-types
    get:
      operationId: MembershipTypeController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Items per page
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
        - name: includeCustomers
          required: false
          in: query
          description: Set to true to include customer details
          schema:
            type: boolean
      responses:
        '200':
          description: Paginated list of membership types
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
      security:
        - JWT-auth: []
      summary: Get all membership types with pagination - Tất cả role
      tags:
        - membership-types
  /api/v1/membership-types/{id}:
    get:
      operationId: MembershipTypeController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Membership Type ID
          schema:
            type: number
        - name: includeCustomers
          required: false
          in: query
          description: Set to true to include customer details
          schema:
            type: boolean
      responses:
        '200':
          description: The membership type
        '401':
          description: Unauthorized
        '404':
          description: Membership type not found
      security:
        - JWT-auth: []
      summary: Get a membership type by ID - Tất cả role
      tags:
        - membership-types
    patch:
      operationId: MembershipTypeController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Membership Type ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMembershipTypeDto'
      responses:
        '200':
          description: Membership type updated successfully.
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Membership type not found
        '409':
          description: Conflict (e.g., type already exists)
      security:
        - JWT-auth: []
      summary: Update a membership type by ID - Chỉ MANAGER
      tags:
        - membership-types
    delete:
      operationId: MembershipTypeController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Membership Type ID
          schema:
            type: number
      responses:
        '204':
          description: Membership type deleted successfully.
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Membership type not found
        '409':
          description: Conflict (cannot delete if associated with customers)
      security:
        - JWT-auth: []
      summary: Delete a membership type by ID - Chỉ MANAGER
      tags:
        - membership-types
  /api/v1/membership-types/by-type/{type}:
    get:
      operationId: MembershipTypeController_findByType_v1
      parameters:
        - name: type
          required: true
          in: path
          description: Membership type name (e.g., Gold, Silver)
          schema:
            type: string
        - name: includeCustomers
          required: false
          in: query
          description: Set to true to include customer details
          schema:
            type: boolean
      responses:
        '200':
          description: The membership type
        '401':
          description: Unauthorized
        '404':
          description: Membership type not found
      security:
        - JWT-auth: []
      summary: Get a membership type by its type name - Tất cả role
      tags:
        - membership-types
  /api/v1/orders:
    post:
      operationId: OrderController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrderDto'
      responses:
        '201':
          description: Order created successfully.
        '400':
          description: Bad Request (e.g., validation error, no products)
        '401':
          description: Unauthorized
        '404':
          description: >-
            Not Found (e.g., employee, customer, product_price, or discount not
            found)
        '422':
          description: Unprocessable Entity (e.g., product not active, discount not valid)
      security:
        - JWT-auth: []
      summary: Create a new order - Tất cả role
      tags:
        - orders
    get:
      operationId: OrderController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Items per page
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
        - name: customerId
          required: false
          in: query
          description: Filter by customer ID
          schema:
            type: number
        - name: employeeId
          required: false
          in: query
          description: Filter by employee ID
          schema:
            type: number
        - name: status
          required: false
          in: query
          description: Filter by order status (PROCESSING, CANCELLED, COMPLETED)
          schema:
            type: string
      responses:
        '200':
          description: Paginated list of orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Get all orders with pagination and filtering - Chỉ MANAGER và STAFF
      tags:
        - orders
  /api/v1/orders/{id}:
    get:
      operationId: OrderController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Order ID
          schema:
            type: number
      responses:
        '200':
          description: The order details
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Order not found
      security:
        - JWT-auth: []
      summary: >-
        Get a specific order by ID - Tất cả role (CUSTOMER chỉ xem order của
        mình)
      tags:
        - orders
    patch:
      operationId: OrderController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Order ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateOrderDto'
      responses:
        '200':
          description: Order updated successfully.
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Order not found or related entity not found during update
        '422':
          description: >-
            Unprocessable Entity (e.g., product not active, discount not valid
            during update)
      security:
        - JWT-auth: []
      summary: Update an existing order - Chỉ MANAGER và STAFF
      tags:
        - orders
    delete:
      operationId: OrderController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Order ID
          schema:
            type: number
      responses:
        '200':
          description: Order deleted successfully (returns the deleted order).
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Order not found
      security:
        - JWT-auth: []
      summary: Delete an order by ID - Chỉ MANAGER
      tags:
        - orders
  /api/v1/orders/{id}/cancel:
    patch:
      description: >-
        Thay đổi trạng thái đơn hàng thành CANCELLED. CUSTOMER chỉ có thể hủy
        đơn hàng của mình và chỉ khi đơn hàng ở trạng thái PENDING.
      operationId: OrderController_cancelOrder_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Order ID
          schema:
            type: number
      responses:
        '200':
          description: Đơn hàng đã được hủy thành công
        '400':
          description: Bad Request - Đơn hàng không thể hủy (đã hoàn thành hoặc đã hủy)
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Không có quyền hủy đơn hàng này
        '404':
          description: Order not found
      security:
        - JWT-auth: []
      summary: Hủy đơn hàng - Tất cả role
      tags:
        - orders
  /api/v1/orders/employee/{employeeId}:
    get:
      operationId: OrderController_findByEmployee_v1
      parameters:
        - name: employeeId
          required: true
          in: path
          description: Employee ID
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách đơn hàng của nhân viên
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Lấy đơn hàng theo nhân viên với pagination - STAFF/MANAGER
      tags:
        - orders
  /api/v1/orders/customer/{customerId}:
    get:
      operationId: OrderController_findByCustomer_v1
      parameters:
        - name: customerId
          required: true
          in: path
          description: Customer ID
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách đơn hàng của khách hàng
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Lấy đơn hàng theo khách hàng với pagination - STAFF/MANAGER
      tags:
        - orders
  /api/v1/orders/status/{status}:
    get:
      operationId: OrderController_findByStatus_v1
      parameters:
        - name: status
          required: true
          in: path
          description: Order status (PROCESSING, CANCELLED, COMPLETED)
          schema:
            type: string
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Items per page
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách đơn hàng theo trạng thái
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Lấy đơn hàng theo trạng thái với pagination - MANAGER/STAFF
      tags:
        - orders
  /api/v1/orders/validate-discounts:
    post:
      description: >-
        Validate xem các discount có thể áp dụng cho đơn hàng không, bao gồm
        kiểm tra điều kiện khách hàng, membership, và giới hạn sử dụng
      operationId: OrderController_validateDiscounts_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ValidateDiscountDto'
      responses:
        '200':
          description: Kết quả validation các discount với thông tin chi tiết
          content:
            application/json:
              schema:
                type: object
                properties:
                  valid_discounts:
                    type: array
                    items:
                      type: object
                      properties:
                        discount_id:
                          type: number
                        discount_name:
                          type: string
                        discount_amount:
                          type: number
                        reason:
                          type: string
                  invalid_discounts:
                    type: array
                    items:
                      type: object
                      properties:
                        discount_id:
                          type: number
                        discount_name:
                          type: string
                        reason:
                          type: string
                  summary:
                    type: object
                    properties:
                      total_checked:
                        type: number
                      valid_count:
                        type: number
                      invalid_count:
                        type: number
                      total_discount_amount:
                        type: number
        '400':
          description: Bad Request - Validation error
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Kiểm tra tính hợp lệ của các discount cho đơn hàng - Tất cả role
      tags:
        - orders
  /api/v1/payments:
    post:
      operationId: PaymentController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentDto'
      responses:
        '201':
          description: The payment has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreatePaymentDto'
        '400':
          description: >-
            Bad Request (e.g., validation error, invalid order_id or
            payment_method_id)
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Not Found (e.g., Order or PaymentMethod not found)
      security:
        - JWT-auth: []
      summary: Create a new payment record - Chỉ MANAGER và STAFF
      tags:
        - payments
    get:
      operationId: PaymentController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Items per page
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
        - name: orderId
          required: false
          in: query
          description: Filter payments by a specific order ID
          schema:
            type: number
      responses:
        '200':
          description: Paginated list of payments
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: >-
        Get all payments with pagination and optional order filter - Chỉ MANAGER
        và STAFF
      tags:
        - payments
  /api/v1/payments/{id}:
    get:
      operationId: PaymentController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Payment ID
          schema:
            type: number
      responses:
        '200':
          description: The payment details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreatePaymentDto'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Payment not found
      security:
        - JWT-auth: []
      summary: Get a specific payment by ID - Chỉ MANAGER và STAFF
      tags:
        - payments
    patch:
      operationId: PaymentController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Payment ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePaymentDto'
      responses:
        '200':
          description: The payment has been successfully updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreatePaymentDto'
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Payment not found
      security:
        - JWT-auth: []
      summary: Update an existing payment - Chỉ MANAGER và STAFF
      tags:
        - payments
    delete:
      operationId: PaymentController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Payment ID
          schema:
            type: number
      responses:
        '204':
          description: The payment has been successfully deleted.
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Payment not found
      security:
        - JWT-auth: []
      summary: Delete a payment by ID - Chỉ MANAGER
      tags:
        - payments
  /api/v1/payments/vnpay/create:
    post:
      operationId: PaymentController_createVNPayPayment_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVNPayPaymentDto'
      responses:
        '200':
          description: VNPay payment URL created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  paymentUrl:
                    type: string
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '404':
          description: Order not found
      security:
        - JWT-auth: []
      summary: Create VNPay payment URL - Tất cả role
      tags:
        - payments
  /api/v1/payments/vnpay/callback:
    get:
      operationId: PaymentController_handleVNPayCallback_v1
      parameters: []
      responses:
        '200':
          description: Payment callback processed successfully
        '400':
          description: Invalid callback data
      security:
        - JWT-auth: []
      summary: Handle VNPay payment callback - Public endpoint
      tags:
        - payments
  /api/v1/payments/vnpay/webhook:
    post:
      operationId: PaymentController_handleVNPayWebhook_v1
      parameters: []
      responses:
        '200':
          description: Webhook processed successfully
      security:
        - JWT-auth: []
      summary: Handle VNPay IPN webhook - Public endpoint
      tags:
        - payments
  /api/v1/payments/admin/test:
    get:
      operationId: PaymentController_adminTest_v1
      parameters: []
      responses:
        '200':
          description: Test successful
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Test endpoint for payment controller - Chỉ MANAGER
      tags:
        - payments
  /api/v1/payments/payment-method/{paymentMethodId}:
    get:
      operationId: PaymentController_findByPaymentMethod_v1
      parameters:
        - name: paymentMethodId
          required: true
          in: path
          description: Payment Method ID
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách thanh toán theo phương thức
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: >-
        Lấy thanh toán theo phương thức thanh toán với pagination -
        STAFF/MANAGER
      tags:
        - payments
  /api/v1/invoice/{orderId}/html:
    get:
      operationId: InvoiceController_getInvoiceHTML_v1
      parameters:
        - name: orderId
          required: true
          in: path
          description: ID của đơn hàng
          schema:
            type: number
      responses:
        '200':
          description: HTML hóa đơn
        '404':
          description: Không tìm thấy đơn hàng
      security:
        - JWT-auth: []
      summary: Lấy hóa đơn dưới dạng HTML
      tags:
        - Invoice
  /api/v1/invoice/{orderId}/pdf:
    get:
      operationId: InvoiceController_getInvoicePDF_v1
      parameters:
        - name: orderId
          required: true
          in: path
          description: ID của đơn hàng
          schema:
            type: number
      responses:
        '200':
          description: PDF hóa đơn
        '404':
          description: Không tìm thấy đơn hàng
      security:
        - JWT-auth: []
      summary: Xuất hóa đơn dưới dạng PDF
      tags:
        - Invoice
  /api/v1/invoice/{orderId}/data:
    get:
      operationId: InvoiceController_getInvoiceData_v1
      parameters:
        - name: orderId
          required: true
          in: path
          description: ID của đơn hàng
          schema:
            type: number
      responses:
        '200':
          description: Dữ liệu hóa đơn
        '404':
          description: Không tìm thấy đơn hàng
      security:
        - JWT-auth: []
      summary: Lấy dữ liệu hóa đơn
      tags:
        - Invoice
  /api/v1/stores:
    post:
      operationId: StoreController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateStoreDto'
      responses:
        '201':
          description: The store has been successfully created.
        '400':
          description: Bad Request (e.g., validation error)
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '409':
          description: Conflict (e.g., email or name already exists)
      security:
        - JWT-auth: []
      summary: Create a new store - Chỉ MANAGER
      tags:
        - stores
    get:
      operationId: StoreController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Paginated list of stores
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Get all stores with pagination - MANAGER và STAFF
      tags:
        - stores
  /api/v1/stores/default:
    get:
      operationId: StoreController_getDefaultStore_v1
      parameters: []
      responses:
        '200':
          description: Default store information
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: No store found
      security:
        - JWT-auth: []
      summary: Get default store information - Tất cả roles
      tags:
        - stores
  /api/v1/stores/{id}:
    get:
      operationId: StoreController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Store ID
          schema:
            type: number
      responses:
        '200':
          description: The store
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Store not found
      security:
        - JWT-auth: []
      summary: Get a store by ID - MANAGER và STAFF
      tags:
        - stores
    patch:
      operationId: StoreController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Store ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateStoreDto'
      responses:
        '200':
          description: The store has been successfully updated.
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Store not found
        '409':
          description: Conflict (e.g., email or name already exists)
      security:
        - JWT-auth: []
      summary: Update a store by ID - Chỉ MANAGER
      tags:
        - stores
    delete:
      operationId: StoreController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Store ID
          schema:
            type: number
      responses:
        '204':
          description: The store has been successfully deleted.
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Store not found
        '409':
          description: Conflict (e.g., due to foreign key constraints)
      security:
        - JWT-auth: []
      summary: Delete a store by ID - Chỉ MANAGER
      tags:
        - stores
  /api/v1/payment-methods:
    post:
      operationId: PaymentMethodController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentMethodDto'
      responses:
        '201':
          description: Payment method created successfully.
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '409':
          description: Conflict (e.g., name already exists)
      security:
        - JWT-auth: []
      summary: Create a new payment method - Chỉ MANAGER
      tags:
        - payment-methods
    get:
      operationId: PaymentMethodController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Paginated list of payment methods
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
      security:
        - JWT-auth: []
      summary: Get all payment methods with pagination - Tất cả role
      tags:
        - payment-methods
  /api/v1/payment-methods/{id}:
    get:
      operationId: PaymentMethodController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Payment Method ID
          schema:
            type: number
      responses:
        '200':
          description: The payment method
        '401':
          description: Unauthorized
        '404':
          description: Payment method not found
      security:
        - JWT-auth: []
      summary: Get a payment method by ID - Tất cả role
      tags:
        - payment-methods
    patch:
      operationId: PaymentMethodController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Payment Method ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePaymentMethodDto'
      responses:
        '200':
          description: Payment method updated successfully.
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Payment method not found
        '409':
          description: Conflict (e.g., name already exists)
      security:
        - JWT-auth: []
      summary: Update a payment method by ID - Chỉ MANAGER
      tags:
        - payment-methods
    delete:
      operationId: PaymentMethodController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Payment Method ID
          schema:
            type: number
      responses:
        '204':
          description: Payment method deleted successfully.
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Payment method not found
        '409':
          description: Conflict (cannot delete if used by payments)
      security:
        - JWT-auth: []
      summary: Delete a payment method by ID - Chỉ MANAGER
      tags:
        - payment-methods
  /api/v1/payment-methods/by-name/{name}:
    get:
      operationId: PaymentMethodController_findByName_v1
      parameters:
        - name: name
          required: true
          in: path
          description: Payment method name (e.g., Tiền mặt)
          schema:
            type: string
      responses:
        '200':
          description: The payment method or null if not found
        '401':
          description: Unauthorized
        '404':
          description: Payment method not found
      security:
        - JWT-auth: []
      summary: Get a payment method by its name - Tất cả role
      tags:
        - payment-methods
  /api/v1/products:
    post:
      operationId: ProductController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProductDto'
      responses:
        '201':
          description: The product has been successfully created.
        '400':
          description: Bad Request (e.g., validation error, missing size info)
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Category or ProductSize not found
        '409':
          description: Conflict (e.g., product name exists, duplicate price for same size)
      security:
        - JWT-auth: []
      summary: Create a new product with prices and sizes - Chỉ MANAGER và STAFF
      tags:
        - products
    get:
      operationId: ProductController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Items per page
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Paginated list of products
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
      security:
        - JWT-auth: []
      summary: Get all products with pagination - Tất cả role
      tags:
        - products
  /api/v1/products/{id}:
    get:
      description: >-
        Lấy chi tiết sản phẩm bao gồm danh sách giá (không bao gồm thông tin
        kích thước)
      operationId: ProductController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: The ID of the product
          schema:
            type: number
      responses:
        '200':
          description: Return the product with prices.
        '401':
          description: Unauthorized
        '404':
          description: Product not found.
      security:
        - JWT-auth: []
      summary: Get a product by ID with its prices - Tất cả role
      tags:
        - products
    patch:
      description: >-
        Chỉ cập nhật thông tin sản phẩm. Để quản lý giá sản phẩm, sử dụng các
        endpoint riêng biệt.
      operationId: ProductController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: The ID of the product to update
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProductDto'
      responses:
        '200':
          description: The product has been successfully updated.
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Product or Category not found
        '409':
          description: Conflict (e.g., product name exists)
      security:
        - JWT-auth: []
      summary: Update product information only - Chỉ MANAGER và STAFF
      tags:
        - products
    delete:
      operationId: ProductController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: The ID of the product to delete
          schema:
            type: number
      responses:
        '204':
          description: The product has been successfully deleted.
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Product not found.
        '409':
          description: Conflict (e.g., product prices are in use in orders)
      security:
        - JWT-auth: []
      summary: Delete a product by ID - Chỉ MANAGER
      tags:
        - products
  /api/v1/products/bulk:
    delete:
      description: >-
        Xóa nhiều sản phẩm cùng lúc. Các sản phẩm có giá đang được sử dụng trong
        đơn hàng sẽ không thể xóa.
      operationId: ProductController_bulkDeleteProducts_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteProductDto'
      responses:
        '200':
          description: Bulk delete hoàn thành với kết quả chi tiết
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Xóa nhiều sản phẩm - Chỉ MANAGER
      tags:
        - products
  /api/v1/products/category/{categoryId}:
    get:
      operationId: ProductController_findByCategory_v1
      parameters:
        - name: categoryId
          required: true
          in: path
          description: Category ID
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách sản phẩm theo danh mục
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Lấy sản phẩm theo danh mục với pagination - TẤT CẢ ROLES
      tags:
        - products
  /api/v1/products/prices:
    post:
      description: Thêm giá mới cho sản phẩm với kích thước cụ thể
      operationId: ProductController_createProductPrice_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProductPriceDto'
      responses:
        '201':
          description: Giá sản phẩm được tạo thành công
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Product or ProductSize not found
        '409':
          description: Conflict (duplicate price for same size)
      security:
        - JWT-auth: []
      summary: Tạo giá mới cho sản phẩm - Chỉ MANAGER và STAFF
      tags:
        - products
  /api/v1/products/prices/{priceId}:
    patch:
      description: Cập nhật giá hoặc trạng thái của một giá sản phẩm cụ thể
      operationId: ProductController_updateProductPrice_v1
      parameters:
        - name: priceId
          required: true
          in: path
          description: ID của giá sản phẩm
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProductPriceDto'
      responses:
        '200':
          description: Giá sản phẩm được cập nhật thành công
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Product price not found
      security:
        - JWT-auth: []
      summary: Cập nhật giá sản phẩm - Chỉ MANAGER và STAFF
      tags:
        - products
    delete:
      description: Xóa một giá sản phẩm cụ thể
      operationId: ProductController_removeProductPrice_v1
      parameters:
        - name: priceId
          required: true
          in: path
          description: ID của giá sản phẩm
          schema:
            type: number
      responses:
        '204':
          description: Giá sản phẩm được xóa thành công
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Product price not found
        '409':
          description: Conflict (price is in use in orders)
      security:
        - JWT-auth: []
      summary: Xóa giá sản phẩm - Chỉ MANAGER và STAFF
      tags:
        - products
  /api/v1/products/prices/bulk:
    delete:
      description: Xóa nhiều giá sản phẩm cùng lúc
      operationId: ProductController_bulkDeleteProductPrices_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteProductPriceDto'
      responses:
        '200':
          description: Bulk delete hoàn thành với kết quả chi tiết
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Xóa nhiều giá sản phẩm - Chỉ MANAGER và STAFF
      tags:
        - products
  /api/v1/products/{productId}/prices:
    get:
      description: Lấy tất cả giá (active và inactive) của một sản phẩm cụ thể
      operationId: ProductController_getProductPrices_v1
      parameters:
        - name: productId
          required: true
          in: path
          description: ID của sản phẩm
          schema:
            type: number
      responses:
        '200':
          description: Danh sách giá của sản phẩm
        '401':
          description: Unauthorized
        '404':
          description: Product not found
      security:
        - JWT-auth: []
      summary: Lấy danh sách giá của sản phẩm - Tất cả role
      tags:
        - products
  /api/v1/product-sizes:
    post:
      operationId: ProductSizeController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProductSizeDto'
      responses:
        '201':
          description: Kích thước sản phẩm được tạo thành công
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '409':
          description: Conflict - Kích thước đã tồn tại
      security:
        - JWT-auth: []
      summary: Tạo kích thước sản phẩm mới - Chỉ MANAGER
      tags:
        - product-sizes
    get:
      operationId: ProductSizeController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách kích thước sản phẩm
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Lấy danh sách kích thước sản phẩm với pagination - TẤT CẢ ROLES
      tags:
        - product-sizes
  /api/v1/product-sizes/{id}:
    get:
      operationId: ProductSizeController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Product Size ID
          schema:
            type: number
      responses:
        '200':
          description: Chi tiết kích thước sản phẩm
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Kích thước sản phẩm không tồn tại
      security:
        - JWT-auth: []
      summary: Lấy kích thước sản phẩm theo ID - TẤT CẢ ROLES
      tags:
        - product-sizes
    patch:
      operationId: ProductSizeController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Product Size ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProductSizeDto'
      responses:
        '200':
          description: Kích thước sản phẩm được cập nhật thành công
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Kích thước sản phẩm không tồn tại
        '409':
          description: Conflict - Kích thước đã tồn tại
      security:
        - JWT-auth: []
      summary: Cập nhật kích thước sản phẩm - Chỉ MANAGER
      tags:
        - product-sizes
    delete:
      operationId: ProductSizeController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Product Size ID
          schema:
            type: number
      responses:
        '204':
          description: Kích thước sản phẩm được xóa thành công
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Kích thước sản phẩm không tồn tại
        '409':
          description: Conflict - Kích thước đang được sử dụng
      security:
        - JWT-auth: []
      summary: Xóa kích thước sản phẩm - Chỉ MANAGER
      tags:
        - product-sizes
  /api/v1/product-sizes/{id}/product-prices:
    get:
      operationId: ProductSizeController_getProductPricesBySize_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Product Size ID
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Danh sách giá sản phẩm theo kích thước
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Kích thước sản phẩm không tồn tại
      security:
        - JWT-auth: []
      summary: Lấy giá sản phẩm theo kích thước với pagination - TẤT CẢ ROLES
      tags:
        - product-sizes
  /api/v1/product-sizes/test/ping:
    get:
      operationId: ProductSizeController_test_v1
      parameters: []
      responses:
        '200':
          description: Test successful
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Test product size controller - Chỉ MANAGER
      tags:
        - product-sizes
  /api/v1/roles:
    post:
      operationId: RoleController_create_v1
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateRoleDto'
      responses:
        '201':
          description: Role created successfully
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '409':
          description: Conflict (role name already exists)
      security:
        - JWT-auth: []
      summary: Create a new role - Chỉ MANAGER
      tags:
        - roles
    get:
      operationId: RoleController_findAll_v1
      parameters:
        - name: page
          required: false
          in: query
          description: Số trang (bắt đầu từ 1)
          schema:
            minimum: 1
            default: 1
            example: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Số lượng bản ghi trên mỗi trang
          schema:
            minimum: 1
            maximum: 100
            default: 10
            example: 10
            type: number
      responses:
        '200':
          description: Paginated list of roles
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                  pagination:
                    $ref: '#/components/schemas/PaginationMetadata'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
      security:
        - JWT-auth: []
      summary: Get all roles with pagination - MANAGER và STAFF
      tags:
        - roles
  /api/v1/roles/{id}:
    get:
      operationId: RoleController_findOne_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Role ID
          schema:
            type: number
      responses:
        '200':
          description: Role details
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Role not found
      security:
        - JWT-auth: []
      summary: Get role by ID - MANAGER và STAFF
      tags:
        - roles
    patch:
      operationId: RoleController_update_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Role ID
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRoleDto'
      responses:
        '200':
          description: Role updated successfully
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Role not found
        '409':
          description: Conflict (role name already exists)
      security:
        - JWT-auth: []
      summary: Update role - Chỉ MANAGER
      tags:
        - roles
    delete:
      operationId: RoleController_remove_v1
      parameters:
        - name: id
          required: true
          in: path
          description: Role ID
          schema:
            type: number
      responses:
        '204':
          description: Role deleted successfully
        '401':
          description: Unauthorized
        '403':
          description: Forbidden - Insufficient permissions
        '404':
          description: Role not found
        '409':
          description: Conflict (role is being used by accounts)
      security:
        - JWT-auth: []
      summary: Delete role - Chỉ MANAGER
      tags:
        - roles
  /api/v1/reports/sales:
    get:
      description: >-
        Lấy báo cáo bán hàng theo tháng, năm và nhân viên. Dữ liệu phù hợp cho
        biểu đồ cột, đường, tròn.
      operationId: ReportsController_getSalesReport_v1
      parameters:
        - name: month
          required: false
          in: query
          description: Tháng báo cáo (1-12)
          schema:
            example: 12
            type: number
        - name: year
          required: false
          in: query
          description: Năm báo cáo
          schema:
            example: 2024
            type: number
        - name: employee_id
          required: false
          in: query
          description: ID nhân viên (để báo cáo theo nhân viên cụ thể)
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Lấy báo cáo bán hàng thành công
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalesReportResponseDto'
        '401':
          description: Chưa xác thực
        '403':
          description: Không có quyền truy cập
      security:
        - JWT-auth: []
      summary: Lấy báo cáo bán hàng
      tags:
        - reports
  /api/v1/reports/sales/monthly:
    get:
      description: >-
        Lấy báo cáo bán hàng theo từng tháng trong năm. Phù hợp cho biểu đồ cột
        và đường.
      operationId: ReportsController_getMonthlySalesReport_v1
      parameters:
        - name: month
          required: false
          in: query
          description: Tháng báo cáo (1-12)
          schema:
            example: 12
            type: number
        - name: year
          required: false
          in: query
          description: Năm báo cáo
          schema:
            example: 2024
            type: number
        - name: employee_id
          required: false
          in: query
          description: ID nhân viên (để báo cáo theo nhân viên cụ thể)
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Lấy báo cáo bán hàng theo tháng thành công
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalesReportResponseDto'
      security:
        - JWT-auth: []
      summary: Lấy báo cáo bán hàng theo tháng
      tags:
        - reports
  /api/v1/reports/sales/daily:
    get:
      description: >-
        Lấy báo cáo bán hàng theo từng ngày trong tháng. Phù hợp cho biểu đồ
        đường.
      operationId: ReportsController_getDailySalesReport_v1
      parameters:
        - name: month
          required: false
          in: query
          description: Tháng báo cáo (1-12)
          schema:
            example: 12
            type: number
        - name: year
          required: false
          in: query
          description: Năm báo cáo
          schema:
            example: 2024
            type: number
        - name: employee_id
          required: false
          in: query
          description: ID nhân viên (để báo cáo theo nhân viên cụ thể)
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Lấy báo cáo bán hàng theo ngày thành công
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalesReportResponseDto'
      security:
        - JWT-auth: []
      summary: Lấy báo cáo bán hàng theo ngày
      tags:
        - reports
  /api/v1/reports/sales/employee:
    get:
      description: >-
        Lấy báo cáo hiệu suất bán hàng của từng nhân viên. Phù hợp cho biểu đồ
        cột và tròn.
      operationId: ReportsController_getEmployeeSalesReport_v1
      parameters:
        - name: month
          required: false
          in: query
          description: Tháng báo cáo (1-12)
          schema:
            example: 12
            type: number
        - name: year
          required: false
          in: query
          description: Năm báo cáo
          schema:
            example: 2024
            type: number
        - name: employee_id
          required: false
          in: query
          description: ID nhân viên (để báo cáo theo nhân viên cụ thể)
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Lấy báo cáo bán hàng theo nhân viên thành công
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalesReportResponseDto'
      security:
        - JWT-auth: []
      summary: Lấy báo cáo bán hàng theo nhân viên
      tags:
        - reports
  /api/v1/reports/sales/products:
    get:
      description: Lấy báo cáo sản phẩm bán chạy nhất. Phù hợp cho biểu đồ cột và tròn.
      operationId: ReportsController_getProductSalesReport_v1
      parameters:
        - name: month
          required: false
          in: query
          description: Tháng báo cáo (1-12)
          schema:
            example: 12
            type: number
        - name: year
          required: false
          in: query
          description: Năm báo cáo
          schema:
            example: 2024
            type: number
        - name: employee_id
          required: false
          in: query
          description: ID nhân viên (để báo cáo theo nhân viên cụ thể)
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Lấy báo cáo bán hàng theo sản phẩm thành công
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalesReportResponseDto'
      security:
        - JWT-auth: []
      summary: Lấy báo cáo bán hàng theo sản phẩm
      tags:
        - reports
  /api/v1/firebase-storage/upload:
    post:
      operationId: FirebaseStorageController_uploadImage_v1
      parameters: []
      requestBody:
        required: true
        description: File ảnh cần upload
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: File ảnh (JPEG, PNG, WebP, tối đa 5MB)
                fileName:
                  type: string
                  description: Tên file tùy chọn (sẽ tự generate nếu không có)
                folder:
                  type: string
                  description: 'Thư mục lưu trữ (mặc định: products)'
      responses:
        '201':
          description: Upload thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  imageUrl:
                    type: string
        '400':
          description: File không hợp lệ hoặc quá lớn
        '401':
          description: Chưa xác thực
        '403':
          description: Không có quyền truy cập
      security:
        - JWT-auth: []
      summary: Upload ảnh sản phẩm lên Firebase Storage
      tags:
        - Firebase Storage
  /api/v1/firebase-storage/delete:
    delete:
      operationId: FirebaseStorageController_deleteImage_v1
      parameters: []
      requestBody:
        required: true
        description: URL ảnh cần xóa
        content:
          application/json:
            schema:
              type: object
              properties:
                imageUrl:
                  type: string
                  description: URL đầy đủ của ảnh cần xóa
                  example: >-
                    https://storage.googleapis.com/your-bucket/products/image.jpg
              required:
                - imageUrl
      responses:
        '200':
          description: Xóa ảnh thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  success:
                    type: boolean
        '400':
          description: URL ảnh không hợp lệ hoặc file không tồn tại
        '401':
          description: Chưa xác thực
        '403':
          description: Không có quyền truy cập
      security:
        - JWT-auth: []
      summary: Xóa ảnh sản phẩm từ Firebase Storage
      tags:
        - Firebase Storage
  /api/v1/firebase-storage/list:
    get:
      operationId: FirebaseStorageController_listImages_v1
      parameters:
        - name: folder
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Lấy danh sách ảnh thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  images:
                    type: array
                    items:
                      type: string
                  count:
                    type: number
        '401':
          description: Chưa xác thực
        '403':
          description: Không có quyền truy cập
      security:
        - JWT-auth: []
      summary: Lấy danh sách tất cả ảnh trong thư mục
      tags:
        - Firebase Storage
  /api/v1/firebase-storage/update:
    post:
      operationId: FirebaseStorageController_updateImage_v1
      parameters: []
      requestBody:
        required: true
        description: File ảnh mới và URL ảnh cũ
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: File ảnh mới (JPEG, PNG, WebP, tối đa 5MB)
                oldImageUrl:
                  type: string
                  description: URL ảnh cũ cần xóa
                fileName:
                  type: string
                  description: Tên file mới tùy chọn
                folder:
                  type: string
                  description: 'Thư mục lưu trữ (mặc định: products)'
      responses:
        '200':
          description: Cập nhật ảnh thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  newImageUrl:
                    type: string
                  oldImageUrl:
                    type: string
        '400':
          description: File không hợp lệ hoặc thiếu thông tin
        '401':
          description: Chưa xác thực
        '403':
          description: Không có quyền truy cập
      security:
        - JWT-auth: []
      summary: Cập nhật ảnh sản phẩm (xóa ảnh cũ và upload ảnh mới)
      tags:
        - Firebase Storage
  /api/v1/firebase-storage/test:
    get:
      operationId: FirebaseStorageController_testConnection_v1
      parameters: []
      responses:
        '200':
          description: Test thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  status:
                    type: string
      security:
        - JWT-auth: []
      summary: Test Firebase Storage connection
      tags:
        - Firebase Storage
info:
  title: Cake POS API
  description: API documentation for Cake POS System - Hệ thống quản lý cửa hàng bánh ngọt
  version: '1.0'
  contact: {}
tags:
  - name: auth
    description: Authentication endpoints - Xác thực và ủy quyền
  - name: accounts
    description: Account management - Quản lý tài khoản
  - name: customers
    description: Customer management - Quản lý khách hàng
  - name: employees
    description: Employee management - Quản lý nhân viên
  - name: categories
    description: Category management - Quản lý danh mục sản phẩm
  - name: products
    description: Product management - Quản lý sản phẩm
  - name: orders
    description: Order management - Quản lý đơn hàng
  - name: payments
    description: Payment processing - Xử lý thanh toán
  - name: invoices
    description: Invoice management - Quản lý hóa đơn
  - name: reports
    description: Reports and analytics - Báo cáo và thống kê
servers: []
components:
  securitySchemes:
    JWT-auth:
      scheme: bearer
      bearerFormat: JWT
      type: http
      name: JWT
      description: Enter JWT token
      in: header
  schemas:
    RegisterDto:
      type: object
      properties: {}
    LoginDto:
      type: object
      properties: {}
    UpdateProfileDto:
      type: object
      properties:
        username:
          type: string
          description: Tên đăng nhập mới (tối thiểu 3 ký tự)
          example: newuser123
          minLength: 3
        password:
          type: string
          description: Mật khẩu mới (tối thiểu 8 ký tự)
          example: newpassword123
          minLength: 8
        last_name:
          type: string
          description: Họ
          example: Nguyễn
          maxLength: 70
        first_name:
          type: string
          description: Tên
          example: Văn A
          maxLength: 70
        gender:
          type: string
          description: Giới tính
          example: MALE
          enum:
            - MALE
            - FEMALE
            - OTHER
        phone:
          type: string
          description: Số điện thoại (10-11 số)
          example: '0901234567'
          maxLength: 15
        email:
          type: string
          description: Email
          example: user@example.com
          maxLength: 100
        position:
          type: string
          description: Chức vụ (chỉ dành cho nhân viên)
          example: Nhân viên bán hàng
          maxLength: 50
    PaginationMetadata:
      type: object
      properties:
        page:
          type: number
          description: Số trang hiện tại
          example: 1
          minimum: 1
        limit:
          type: number
          description: Số lượng bản ghi trên mỗi trang
          example: 10
          minimum: 1
          maximum: 100
        total:
          type: number
          description: Tổng số bản ghi
          example: 50
          minimum: 0
        totalPages:
          type: number
          description: Tổng số trang
          example: 5
          minimum: 0
        hasNext:
          type: boolean
          description: Có trang tiếp theo hay không
          example: true
        hasPrev:
          type: boolean
          description: Có trang trước hay không
          example: false
      required:
        - page
        - limit
        - total
        - totalPages
        - hasNext
        - hasPrev
    CreateAccountDto:
      type: object
      properties:
        role_id:
          type: number
          description: ID vai trò của tài khoản
          example: 1
        username:
          type: string
          description: Tên đăng nhập (tối thiểu 3 ký tự)
          example: user123
          minLength: 3
        password:
          type: string
          description: Mật khẩu (tối thiểu 8 ký tự)
          example: password123
          minLength: 8
        is_active:
          type: boolean
          description: Trạng thái hoạt động của tài khoản
          example: true
      required:
        - role_id
        - username
        - password
    UpdateAccountDto:
      type: object
      properties:
        username:
          type: string
          description: Tên đăng nhập mới (tối thiểu 3 ký tự)
          example: newuser123
          minLength: 3
        password:
          type: string
          description: Mật khẩu mới (tối thiểu 8 ký tự)
          example: newpassword123
          minLength: 8
        is_active:
          type: boolean
          description: Trạng thái hoạt động của tài khoản
          example: false
        is_locked:
          type: boolean
          description: Trạng thái khóa tài khoản
          example: true
    CreateCategoryDto:
      type: object
      properties:
        name:
          type: string
          description: Tên danh mục
          example: Bánh kem
          maxLength: 100
        description:
          type: string
          description: Mô tả danh mục
          example: Các loại bánh kem tươi và ngon
          maxLength: 1000
      required:
        - name
    UpdateCategoryDto:
      type: object
      properties:
        name:
          type: string
          description: Tên danh mục
          example: Bánh kem
          maxLength: 100
        description:
          type: string
          description: Mô tả danh mục
          example: Các loại bánh kem tươi và ngon
          maxLength: 1000
    BulkDeleteCategoryDto:
      type: object
      properties:
        ids:
          description: Danh sách ID các danh mục cần xóa
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - ids
    CreateCustomerDto:
      type: object
      properties:
        phone:
          type: string
          description: Số điện thoại khách hàng (bắt buộc)
          example: '0123456789'
        last_name:
          type: string
          description: Họ của khách hàng
          example: Nguyễn
        first_name:
          type: string
          description: Tên của khách hàng
          example: Văn A
        gender:
          type: string
          description: Giới tính của khách hàng
          example: MALE
          enum:
            - MALE
            - FEMALE
            - OTHER
        username:
          type: string
          description: Tên đăng nhập cho tài khoản (tối thiểu 3 ký tự, không bắt buộc)
          example: customer123
          minLength: 3
      required:
        - phone
    BulkDeleteCustomerDto:
      type: object
      properties:
        ids:
          description: Danh sách ID của các khách hàng cần xóa
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - ids
    LockAccountDto:
      type: object
      properties:
        is_locked:
          type: boolean
          description: Trạng thái khóa tài khoản (true = khóa, false = mở khóa)
          example: true
      required:
        - is_locked
    gender_enum:
      type: string
      enum:
        - MALE
        - FEMALE
        - OTHER
      description: Giới tính của khách hàng
    UpdateCustomerDto:
      type: object
      properties:
        last_name:
          type: string
          description: Họ và tên đệm của khách hàng
          example: Trần Văn
          maxLength: 70
        first_name:
          type: string
          description: Tên của khách hàng
          example: Minh
          maxLength: 70
        phone:
          type: string
          description: Số điện thoại của khách hàng
          example: '+84901234567'
          maxLength: 15
        gender:
          description: Giới tính của khách hàng
          example: male
          allOf:
            - $ref: '#/components/schemas/gender_enum'
        username:
          type: string
          description: Tên đăng nhập cho tài khoản khách hàng (tùy chọn)
          example: customer_user
          minLength: 3
    CreateDiscountDto:
      type: object
      properties: {}
    BulkDeleteDiscountDto:
      type: object
      properties:
        ids:
          description: Danh sách ID của các chương trình giảm giá cần xóa
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - ids
    UpdateDiscountDto:
      type: object
      properties: {}
    CreateEmployeeDto:
      type: object
      properties:
        first_name:
          type: string
          description: Tên của nhân viên
          example: Nguyễn
          maxLength: 70
        last_name:
          type: string
          description: Họ và tên đệm của nhân viên
          example: Văn An
          maxLength: 70
        email:
          type: string
          description: Địa chỉ email của nhân viên
          example: employee@cakepos.com
          maxLength: 255
          format: email
        phone:
          type: string
          description: Số điện thoại của nhân viên
          example: '+84901234567'
          maxLength: 15
        position:
          type: string
          description: Vị trí/chức vụ của nhân viên
          example: Nhân viên bán hàng
          maxLength: 100
        username:
          type: string
          description: Tên đăng nhập cho tài khoản nhân viên
          example: employee_user
          minLength: 3
      required:
        - first_name
        - last_name
        - email
        - phone
        - position
        - username
    BulkDeleteEmployeeDto:
      type: object
      properties:
        ids:
          description: Danh sách ID của các nhân viên cần xóa
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - ids
    UpdateEmployeeDto:
      type: object
      properties:
        first_name:
          type: string
          description: Tên của nhân viên
          example: Nguyễn
          maxLength: 70
        last_name:
          type: string
          description: Họ và tên đệm của nhân viên
          example: Văn An
          maxLength: 70
        email:
          type: string
          description: Địa chỉ email của nhân viên
          example: employee@cakepos.com
          maxLength: 255
          format: email
        phone:
          type: string
          description: Số điện thoại của nhân viên
          example: '+84901234567'
          maxLength: 15
        position:
          type: string
          description: Vị trí/chức vụ của nhân viên
          example: Nhân viên bán hàng
          maxLength: 100
        username:
          type: string
          description: Tên đăng nhập cho tài khoản nhân viên
          example: employee_user
          minLength: 3
    CreateManagerDto:
      type: object
      properties:
        first_name:
          type: string
          description: Tên của quản lý
          example: Nguyễn Văn
          maxLength: 70
        last_name:
          type: string
          description: Họ của quản lý
          example: A
          maxLength: 70
        email:
          type: string
          description: Email của quản lý
          example: manager@banhngotnhalam.com
          maxLength: 100
        phone:
          type: string
          description: Số điện thoại của quản lý
          example: '0901234567'
          maxLength: 15
        gender:
          type: string
          description: Giới tính của quản lý
          example: MALE
          enum:
            - MALE
            - FEMALE
            - OTHER
        username:
          type: string
          description: Tên đăng nhập cho tài khoản quản lý
          example: manager01
          minLength: 3
          maxLength: 50
      required:
        - first_name
        - last_name
        - email
        - phone
        - username
    UpdateManagerDto:
      type: object
      properties:
        first_name:
          type: string
          description: Tên của quản lý
          example: Nguyễn Văn
          maxLength: 70
        last_name:
          type: string
          description: Họ của quản lý
          example: A
          maxLength: 70
        email:
          type: string
          description: Email của quản lý
          example: manager@banhngotnhalam.com
          maxLength: 100
        phone:
          type: string
          description: Số điện thoại của quản lý
          example: '0901234567'
          maxLength: 15
        gender:
          type: string
          description: Giới tính của quản lý
          example: MALE
          enum:
            - MALE
            - FEMALE
            - OTHER
        username:
          type: string
          description: Tên đăng nhập cho tài khoản quản lý
          example: manager01
          minLength: 3
          maxLength: 50
    BulkDeleteManagerDto:
      type: object
      properties:
        ids:
          description: Danh sách ID của các manager cần xóa
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - ids
    CreateMembershipTypeDto:
      type: object
      properties:
        type:
          type: string
          description: Tên loại thành viên (unique)
          example: Vàng
          maxLength: 50
        discount_value:
          type: number
          description: Giá trị giảm giá phần trăm 0-100%
          example: 10
        required_point:
          type: number
          description: Điểm yêu cầu để đạt được hạng thành viên này
          example: 1000
        description:
          type: string
          description: Mô tả chi tiết về loại thành viên
          example: Giảm giá 10% cho tất cả đơn hàng.
          maxLength: 255
        valid_until:
          type: string
          description: Ngày hết hạn của loại thành viên (YYYY-MM-DD)
          example: '2025-12-31'
        is_active:
          type: boolean
          description: Trạng thái kích hoạt của loại thành viên
          example: true
          default: true
      required:
        - type
        - discount_value
        - required_point
    UpdateMembershipTypeDto:
      type: object
      properties:
        type:
          type: string
          description: Tên loại thành viên (unique)
          example: Vàng
          maxLength: 50
        discount_value:
          type: number
          description: Giá trị giảm giá phần trăm 0-100%
          example: 10
        required_point:
          type: number
          description: Điểm yêu cầu để đạt được hạng thành viên này
          example: 1000
        description:
          type: string
          description: Mô tả chi tiết về loại thành viên
          example: Giảm giá 10% cho tất cả đơn hàng.
          maxLength: 255
        valid_until:
          type: string
          description: Ngày hết hạn của loại thành viên (YYYY-MM-DD)
          example: '2025-12-31'
        is_active:
          type: boolean
          description: Trạng thái kích hoạt của loại thành viên
          example: true
          default: true
    CreateOrderProductDto:
      type: object
      properties:
        product_price_id:
          type: number
          description: ID của giá sản phẩm (product_price_id)
          example: 1
        quantity:
          type: number
          description: Số lượng sản phẩm
          example: 2
          minimum: 1
        option:
          type: string
          description: Ghi chú tùy chọn cho sản phẩm trong đơn hàng
          example: Ít đường
          maxLength: 500
      required:
        - product_price_id
        - quantity
    CreateOrderDiscountDto:
      type: object
      properties:
        discount_id:
          type: number
          description: ID của chương trình giảm giá (discount_id)
          example: 1
      required:
        - discount_id
    CreateOrderDto:
      type: object
      properties:
        employee_id:
          type: number
          description: ID của nhân viên tạo đơn
          example: 1
        customer_id:
          type: number
          description: ID của khách hàng (nếu có)
          example: 1
        customize_note:
          type: string
          description: Ghi chú tùy chỉnh cho toàn bộ đơn hàng
          example: Giao hàng sau 5 giờ chiều
          maxLength: 1000
        products:
          description: Danh sách sản phẩm trong đơn hàng
          minItems: 1
          type: array
          items:
            $ref: '#/components/schemas/CreateOrderProductDto'
        discounts:
          description: Danh sách mã giảm giá áp dụng cho đơn hàng
          type: array
          items:
            $ref: '#/components/schemas/CreateOrderDiscountDto'
      required:
        - employee_id
        - products
    UpdateOrderDto:
      type: object
      properties:
        employee_id:
          type: number
          description: ID của nhân viên cập nhật (nếu có thay đổi)
          example: 2
        customer_id:
          type: number
          description: ID của khách hàng cập nhật (nếu có thay đổi)
          example: 2
        customize_note:
          type: string
          description: Ghi chú tùy chỉnh cập nhật
          example: Đã xác nhận, giao gấp
          maxLength: 1000
        products:
          description: (Thay thế) Danh sách sản phẩm trong đơn hàng
          minItems: 1
          type: array
          items:
            $ref: '#/components/schemas/CreateOrderProductDto'
        discounts:
          description: (Thay thế) Danh sách mã giảm giá áp dụng
          type: array
          items:
            $ref: '#/components/schemas/CreateOrderDiscountDto'
    ValidateDiscountDto:
      type: object
      properties:
        customer_id:
          type: number
          description: ID của khách hàng (có thể null)
          example: 1
        discount_ids:
          description: Danh sách ID của các discount cần kiểm tra
          example:
            - 1
            - 2
          type: array
          items:
            type: number
        total_amount:
          type: number
          description: Tổng số tiền của đơn hàng (VND)
          example: 250000
          minimum: 0
        product_count:
          type: number
          description: Số lượng sản phẩm trong đơn hàng
          example: 3
          minimum: 1
      required:
        - discount_ids
        - total_amount
        - product_count
    CreatePaymentDto:
      type: object
      properties:
        order_id:
          type: number
          description: ID của đơn hàng liên quan
          example: 1
        payment_method_id:
          type: number
          description: ID của phương thức thanh toán
          example: 1
        amount_paid:
          type: number
          description: Số tiền khách hàng trả
          example: 150000
        payment_time:
          type: string
          description: >-
            Thời gian thanh toán (ISO 8601 string), mặc định là thời điểm hiện
            tại nếu không cung cấp
          example: '2024-07-26T10:30:00.000Z'
      required:
        - order_id
        - payment_method_id
        - amount_paid
    UpdatePaymentDto:
      type: object
      properties:
        order_id:
          type: number
          description: ID của đơn hàng liên quan
          example: 1
        payment_method_id:
          type: number
          description: ID của phương thức thanh toán
          example: 1
        amount_paid:
          type: number
          description: Số tiền khách hàng trả (nếu có cập nhật)
          example: 160000
        payment_time:
          type: string
          description: Thời gian thanh toán cập nhật (ISO 8601 string)
          example: '2024-07-26T10:35:00.000Z'
    CreateVNPayPaymentDto:
      type: object
      properties:
        orderId:
          type: number
          description: ID của đơn hàng cần thanh toán
          example: 1
        orderInfo:
          type: string
          description: Thông tin mô tả đơn hàng
          example: 'Thanh toan don hang #1 - Banh kem socola'
        returnUrl:
          type: string
          description: URL trả về sau khi thanh toán
          example: http://localhost:3001/payment/vnpay/callback
      required:
        - orderId
    CreateStoreDto:
      type: object
      properties:
        name:
          type: string
          description: Tên của cửa hàng
          maxLength: 100
          example: Cake POS Chi Nhánh Quận 1
        address:
          type: string
          description: Địa chỉ của cửa hàng
          maxLength: 255
          example: 123 Đường ABC, Phường X, Quận 1, TP. HCM
        phone:
          type: string
          description: Số điện thoại của cửa hàng
          maxLength: 15
          example: '0901234567'
          pattern: ^\+?[1-9]\d{1,14}$
        opening_time:
          type: string
          description: Thời gian mở cửa hàng (HH:mm hoặc HH:mm:ss)
          example: '08:00:00'
          pattern: ^([01]\d|2[0-3]):([0-5]\d)(:([0-5]\d))?$
        closing_time:
          type: string
          description: Thời gian đóng cửa hàng (HH:mm hoặc HH:mm:ss)
          example: '22:00:00'
          pattern: ^([01]\d|2[0-3]):([0-5]\d)(:([0-5]\d))?$
        email:
          type: string
          description: Địa chỉ email của cửa hàng
          maxLength: 100
          example: store.q1@example.com
        opening_date:
          type: string
          description: Ngày khai trương cửa hàng (YYYY-MM-DD)
          example: '2024-01-15'
        tax_code:
          type: string
          description: Mã số thuế của cửa hàng
          maxLength: 20
          example: '0312345678'
      required:
        - name
        - address
        - phone
        - opening_time
        - closing_time
        - email
        - opening_date
        - tax_code
    UpdateStoreDto:
      type: object
      properties:
        name:
          type: string
          description: Tên của cửa hàng
          maxLength: 100
          example: Cake POS Chi Nhánh Quận 1
        address:
          type: string
          description: Địa chỉ của cửa hàng
          maxLength: 255
          example: 123 Đường ABC, Phường X, Quận 1, TP. HCM
        phone:
          type: string
          description: Số điện thoại của cửa hàng
          maxLength: 15
          example: '0901234567'
          pattern: ^\+?[1-9]\d{1,14}$
        opening_time:
          type: string
          description: Thời gian mở cửa hàng (HH:mm hoặc HH:mm:ss)
          example: '08:00:00'
          pattern: ^([01]\d|2[0-3]):([0-5]\d)(:([0-5]\d))?$
        closing_time:
          type: string
          description: Thời gian đóng cửa hàng (HH:mm hoặc HH:mm:ss)
          example: '22:00:00'
          pattern: ^([01]\d|2[0-3]):([0-5]\d)(:([0-5]\d))?$
        email:
          type: string
          description: Địa chỉ email của cửa hàng
          maxLength: 100
          example: store.q1@example.com
        opening_date:
          type: string
          description: Ngày khai trương cửa hàng (YYYY-MM-DD)
          example: '2024-01-15'
        tax_code:
          type: string
          description: Mã số thuế của cửa hàng
          maxLength: 20
          example: '0312345678'
    CreatePaymentMethodDto:
      type: object
      properties:
        name:
          type: string
          description: Tên phương thức thanh toán (unique)
          example: Tiền mặt
          maxLength: 50
        description:
          type: string
          description: Mô tả chi tiết về phương thức thanh toán
          example: Thanh toán trực tiếp bằng tiền mặt tại quầy.
          maxLength: 255
      required:
        - name
    UpdatePaymentMethodDto:
      type: object
      properties:
        name:
          type: string
          description: Tên phương thức thanh toán (unique)
          example: Tiền mặt
          maxLength: 50
        description:
          type: string
          description: Mô tả chi tiết về phương thức thanh toán
          example: Thanh toán trực tiếp bằng tiền mặt tại quầy.
          maxLength: 255
    CreateProductDto:
      type: object
      properties:
        name:
          type: string
          description: Tên sản phẩm
          example: Bánh kem dâu
          maxLength: 100
        description:
          type: string
          description: Mô tả sản phẩm
          example: Bánh kem tươi với dâu tự nhiên
          maxLength: 1000
        is_signature:
          type: boolean
          description: Đánh dấu sản phẩm là đặc trưng hay không
          example: false
          default: false
        image_path:
          type: string
          description: Đường dẫn hình ảnh sản phẩm
          example: /uploads/products/cake-strawberry.jpg
          maxLength: 255
        category_id:
          type: number
          description: ID của danh mục sản phẩm
          example: 1
          minimum: 1
        prices:
          description: Danh sách giá cho các kích thước khác nhau của sản phẩm
          minItems: 1
          items:
            type: array
          type: array
      required:
        - name
        - prices
    UpdateProductDto:
      type: object
      properties: {}
    BulkDeleteProductDto:
      type: object
      properties:
        ids:
          description: Danh sách ID các sản phẩm cần xóa
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - ids
    CreateProductSizeForProductDto:
      type: object
      properties:
        name:
          type: string
          description: Tên kích thước sản phẩm
          example: S
          maxLength: 50
        unit:
          type: string
          description: Đơn vị đo lường
          example: inch
          maxLength: 20
        quantity:
          type: number
          description: Số lượng/kích thước
          example: 10
          minimum: 1
        description:
          type: string
          description: Mô tả kích thước sản phẩm
          example: Bánh kích thước 10 inch phù hợp cho 8-10 người
          maxLength: 255
      required:
        - name
        - unit
        - quantity
    CreateProductPriceDto:
      type: object
      properties:
        product_id:
          type: number
          description: ID sản phẩm
          example: 1
        size_id:
          type: number
          description: ID kích thước sản phẩm (nếu sử dụng kích thước có sẵn)
          example: 1
        size_data:
          description: Thông tin kích thước mới (nếu tạo kích thước mới)
          allOf:
            - $ref: '#/components/schemas/CreateProductSizeForProductDto'
        price:
          type: number
          description: Giá sản phẩm (VND)
          example: 50000
        is_active:
          type: boolean
          description: Trạng thái hoạt động của giá
          example: true
          default: true
      required:
        - product_id
        - price
    UpdateProductPriceDto:
      type: object
      properties:
        price:
          type: number
          description: Giá sản phẩm mới (VND)
          example: 60000
        is_active:
          type: boolean
          description: Trạng thái hoạt động của giá
          example: false
    BulkDeleteProductPriceDto:
      type: object
      properties:
        ids:
          description: Danh sách ID các giá sản phẩm cần xóa
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - ids
    CreateProductSizeDto:
      type: object
      properties:
        name:
          type: string
          description: Tên kích thước sản phẩm
          example: S
          maxLength: 5
        unit:
          type: string
          description: Đơn vị đo lường
          example: inch
          maxLength: 15
        quantity:
          type: number
          description: Số lượng/kích thước
          example: 6
          minimum: 1
        description:
          type: string
          description: Mô tả kích thước sản phẩm
          example: Kích thước nhỏ, phù hợp cho 1-2 người
          maxLength: 1000
      required:
        - name
        - unit
        - quantity
    UpdateProductSizeDto:
      type: object
      properties:
        name:
          type: string
          description: Tên kích thước sản phẩm
          example: S
          maxLength: 5
        unit:
          type: string
          description: Đơn vị đo lường
          example: inch
          maxLength: 15
        quantity:
          type: number
          description: Số lượng/kích thước
          example: 6
          minimum: 1
        description:
          type: string
          description: Mô tả kích thước sản phẩm
          example: Kích thước nhỏ, phù hợp cho 1-2 người
          maxLength: 1000
    CreateRoleDto:
      type: object
      properties: {}
    UpdateRoleDto:
      type: object
      properties: {}
    EmployeeSalesDataDto:
      type: object
      properties:
        employee_id:
          type: number
          description: ID nhân viên
          example: 1
        employee_name:
          type: string
          description: Tên nhân viên
          example: Nguyễn Văn A
        total_orders:
          type: number
          description: Số đơn hàng
          example: 25
        total_revenue:
          type: number
          description: Tổng doanh thu
          example: 5000000
        total_products_sold:
          type: number
          description: Tổng số sản phẩm đã bán
          example: 150
      required:
        - employee_id
        - employee_name
        - total_orders
        - total_revenue
        - total_products_sold
    MonthlySalesDataDto:
      type: object
      properties:
        month:
          type: number
          description: Tháng
          example: 12
        year:
          type: number
          description: Năm
          example: 2024
        total_orders:
          type: number
          description: Số đơn hàng trong tháng
          example: 150
        total_revenue:
          type: number
          description: Doanh thu trong tháng
          example: 25000000
        total_products_sold:
          type: number
          description: Số sản phẩm đã bán trong tháng
          example: 800
      required:
        - month
        - year
        - total_orders
        - total_revenue
        - total_products_sold
    DailySalesDataDto:
      type: object
      properties:
        day:
          type: number
          description: Ngày
          example: 15
        month:
          type: number
          description: Tháng
          example: 12
        year:
          type: number
          description: Năm
          example: 2024
        total_orders:
          type: number
          description: Số đơn hàng trong ngày
          example: 8
        total_revenue:
          type: number
          description: Doanh thu trong ngày
          example: 1200000
        total_products_sold:
          type: number
          description: Số sản phẩm đã bán trong ngày
          example: 45
      required:
        - day
        - month
        - year
        - total_orders
        - total_revenue
        - total_products_sold
    ProductSalesDataDto:
      type: object
      properties:
        product_id:
          type: number
          description: ID sản phẩm
          example: 1
        product_name:
          type: string
          description: Tên sản phẩm
          example: Bánh kem chocolate
        quantity_sold:
          type: number
          description: Số lượng đã bán
          example: 50
        revenue:
          type: number
          description: Doanh thu từ sản phẩm
          example: 2500000
      required:
        - product_id
        - product_name
        - quantity_sold
        - revenue
    SalesReportResponseDto:
      type: object
      properties:
        summary:
          type: object
          description: Tóm tắt báo cáo
        employee_sales:
          description: Dữ liệu bán hàng theo nhân viên
          type: array
          items:
            $ref: '#/components/schemas/EmployeeSalesDataDto'
        monthly_sales:
          description: Dữ liệu bán hàng theo tháng
          type: array
          items:
            $ref: '#/components/schemas/MonthlySalesDataDto'
        daily_sales:
          description: Dữ liệu bán hàng theo ngày
          type: array
          items:
            $ref: '#/components/schemas/DailySalesDataDto'
        product_sales:
          description: Dữ liệu bán hàng theo sản phẩm
          type: array
          items:
            $ref: '#/components/schemas/ProductSalesDataDto'
      required:
        - summary
        - employee_sales
        - monthly_sales
        - daily_sales
        - product_sales
